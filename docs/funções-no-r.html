<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 6 Funções no R | R básico</title>
<meta name="author" content="Ben Dêivide e Diego Arthur">
<meta name="generator" content="bookdown 0.25 with bs4_book()">
<meta property="og:title" content="Capítulo 6 Funções no R | R básico">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bendeivide.github.io/book-eambr01/funções-no-r.html">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 6 Funções no R | R básico">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-BG6SYWV817"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-BG6SYWV817');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 1em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<meta name="description" content="6.1 Introdução Mais uma vez, nos reportamos aos princípios do R (CHAMBERS, 2016), mais especificamente ao segundo princípio, “Tudo que acontece no R é uma chamada de função”. Quando associamos um...">
<meta property="og:description" content="6.1 Introdução Mais uma vez, nos reportamos aos princípios do R (CHAMBERS, 2016), mais especificamente ao segundo princípio, “Tudo que acontece no R é uma chamada de função”. Quando associamos um...">
<meta name="twitter:description" content="6.1 Introdução Mais uma vez, nos reportamos aos princípios do R (CHAMBERS, 2016), mais especificamente ao segundo princípio, “Tudo que acontece no R é uma chamada de função”. Quando associamos um...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Coleção Estudando o Ambiente R (Volume I)">R básico</a>:
        <small class="text-muted">Coleção Estudando o Ambiente R (Volume I)</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bem-vindo</a></li>
<li><a class="" href="ep%C3%ADgrafe.html">Epígrafe</a></li>
<li><a class="" href="pref%C3%A1cio.html">Prefácio</a></li>
<li><a class="" href="entendendo-a-cole%C3%A7%C3%A3o-estudando-o-ambiente-r.html"><span class="header-section-number">1</span> Entendendo a coleção Estudando o ambiente R </a></li>
<li><a class="" href="hist%C3%B3ria-e-instala%C3%A7%C3%A3o-do-r.html"><span class="header-section-number">2</span> História e instalação do R</a></li>
<li><a class="" href="como-o-r-trabalha.html"><span class="header-section-number">3</span> Como o R trabalha?</a></li>
<li><a class="" href="objetos-e-estrutura-de-dados.html"><span class="header-section-number">4</span> Objetos e estrutura de dados</a></li>
<li><a class="" href="importa%C3%A7%C3%A3o-e-exporta%C3%A7%C3%A3o-de-dados.html"><span class="header-section-number">5</span> Importação e exportação de dados</a></li>
<li><a class="active" href="fun%C3%A7%C3%B5es-no-r.html"><span class="header-section-number">6</span> Funções no R</a></li>
<li><a class="" href="boas-pr%C3%A1ticas-de-como-escrever-um-c%C3%B3digo.html"><span class="header-section-number">7</span> Boas práticas de como escrever um código</a></li>
<li><a class="" href="pacotes.html"><span class="header-section-number">8</span> Pacotes</a></li>
<li><a class="" href="boas-pr%C3%A1ticas-de-como-escrever-um-c%C3%B3digo-1.html"><span class="header-section-number">9</span> Boas práticas de como escrever um código</a></li>
<li><a class="" href="pacotes-1.html"><span class="header-section-number">10</span> Pacotes</a></li>
<li><a class="" href="considera%C3%A7%C3%B5es-e-prepara%C3%A7%C3%A3o-para-programa%C3%A7%C3%A3o-em-r-n%C3%ADvel-intermedi%C3%A1rio.html"><span class="header-section-number">11</span> Considerações e preparação para Programação em R (Nível Intermediário)</a></li>
<li><a class="" href="refer%C3%AAncias.html">Referências</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/bendeivide/book-eambr01">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="funções-no-r" class="section level1" number="6">
<h1>
<span class="header-section-number">Capítulo 6</span> Funções no R<a class="anchor" aria-label="anchor" href="#fun%C3%A7%C3%B5es-no-r"><i class="fas fa-link"></i></a>
</h1>
<div id="introdução-1" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Introdução<a class="anchor" aria-label="anchor" href="#introdu%C3%A7%C3%A3o-1"><i class="fas fa-link"></i></a>
</h2>
<p>Mais uma vez, nos reportamos aos princípios do <strong>R</strong> (CHAMBERS, 2016), mais especificamente ao segundo princípio, “Tudo que acontece no <strong>R</strong> é uma chamada de função”. Quando associamos um nome a um objeto (x &lt;- 10) pelo símbolo de atribuição (&lt;-), o que temos é uma chamada de função realizando esse processo, isto é, ’&lt;-’(x, 10). Ao digitar x no console e posteriormente apertando o botão ENTER do teclado, nos bastidores, estamos na realidade chamando a função print(x) para imprimir o valor que o nome se associa. Desde coisas básicas como essas, até coisas mais complexas, temos sempre por trás uma chamada de função.</p>
</div>
<div id="o-que-é-uma-função-no-r" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> O que é uma função no R?<a class="anchor" aria-label="anchor" href="#o-que-%C3%A9-uma-fun%C3%A7%C3%A3o-no-r"><i class="fas fa-link"></i></a>
</h2>
<p>Os princípios falados por Chambers (2016) são interligados, principalmente os dois primeiros, porque apesar de tudo que acontece no R ser uma chamada de função, a função é um objeto, com estrutura definida como qualquer outro objeto, de modo function()1 ,assim como os vetores. Ainda mais, dizemos que a linguagem R tem um estilo funcional, devido a esse fato. Mais isso é assunto para o Volume II.</p>
<p>A ideia de função aqui não é pensada como uma relação matemática, mas como um sistema que tem uma entrada e saída. Podemos ter funções no ambiente R que organiza dados, e não operações matemáticas por exemplo. Vejamos a função sort() do pacote base que ordena de forma crescente ou descrescente um conjunto de valores, como pode ser observado no Código R 6.1.</p>
<p>As funções de modo closure (funções criadas por meio de function(), do qual o seu modo pode ser verificado por typeof()), apresenta três estruturas básicas: argumento, corpo e ambiente, que será abordada a seguir.</p>
</div>
<div id="estrutura-básica-de-uma-função" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Estrutura básica de uma função<a class="anchor" aria-label="anchor" href="#estrutura-b%C3%A1sica-de-uma-fun%C3%A7%C3%A3o"><i class="fas fa-link"></i></a>
</h2>
<p>As funções podem ser dividas em três componentes:</p>
<ul>
<li>Argumentos, função formals(),</li>
<li>Corpo, função body() e</li>
<li>Ambiente, função environment().</li>
</ul>
<p>Para o caso das funções primitivas, escritas na linguagem C, essa regra foge a excessão, e será detalhado no Volume II. Dizemos que funções são primitivas de modo builtin ou special. Para verificarmos a tipagem desses objetos, devemos sempre usar typeof() ou invés de mode().</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Vetor</span></span>
<span id="cb31-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>); y</span></code></pre></div>
<pre><code>## [1] 5 3 4</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao</span></span>
<span id="cb33-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">sort</span>(<span class="at">x =</span> y)</span></code></pre></div>
<pre><code>## [1] 3 4 5</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Argumentos da funcao sort</span></span>
<span id="cb35-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">formals</span>(sort)</span></code></pre></div>
<pre><code>## $x
## 
## 
## $decreasing
## [1] FALSE
## 
## $...</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Corpo da funcao</span></span>
<span id="cb37-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">body</span>(sort)</span></code></pre></div>
<pre><code>## {
##     if (!is.logical(decreasing) || length(decreasing) != 1L) 
##         stop("'decreasing' must be a length-1 logical vector.\nDid you intend to set 'partial'?")
##     UseMethod("sort")
## }</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Ambiente</span></span>
<span id="cb39-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">environment</span>(sort)</span></code></pre></div>
<pre><code>## &lt;environment: namespace:base&gt;</code></pre>
<p>Nesse caso, os argumentos x, decreascing e …, são nomes que aguardam receber objetos para a execução da função sort(). Nem todos os argumentos necessitam receber objetos, a estes chamamos de argumentos padrão, como o caso do argumento decreascing com padrão igual a FALSE, que significa que o ordenamento dos dados será de forma não-decrescente. Observe que na função sort() entramos apenas com o argumento x = y, não precisando inserir decreascing = FALSE. Agora, para modificar o argumento padrão, basta acrescentar a alteração na função, isto é,</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao</span></span>
<span id="cb41-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">sort</span>(<span class="at">x =</span> y, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 5 4 3</code></pre>
<p>O ’…’ é um argumento especial e significa que pode conter qualquer número de argumentos. Geralmente é utilizado em uma função quando não se sabe o número exato de argumentos. Veremos ainda nesse capítulo mais sobre esse argumento.</p>
<p>O próximo item é o corpo da função. É nele que inserirmos as instruções, isto é, as linhas de comandos necessárias a que se destina a sua criação. Uma outra forma de acessarmos o corpo das funções é digitar no console apenas o seu nome sem o parêntese, isto é, sort.</p>
<p>Por fim, o ambiente que no caso da função sort() representa o ambiente do pacote base, isto é, o namespace <strong>base</strong>.</p>
</div>
<div id="funções-em-pacotes" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Funções em pacotes<a class="anchor" aria-label="anchor" href="#fun%C3%A7%C3%B5es-em-pacotes"><i class="fas fa-link"></i></a>
</h2>
<p>Podemos observar que essas funções utilizadas até agora, não foram criadas pelo usuário. Estas funções vieram do que chamamos de pacotes2. Alguns pacotes estão disponíveis quando instalamos o <strong>R</strong> , dizemos que estes são os pacotes nativos do <strong>R</strong> , para a linguagem. O principal pacote deles é o <strong>base</strong>. Os demais pacotes desenvolvidos podem ser obtidos via CRAN, e falaremos mais adiante.</p>
<p>O ambiente <strong>R</strong> apresenta uma versatilidade de manuais para a linguagem. Por exemplo, para verificar informações sobre um determinado pacote como o <strong>base</strong>, use help(package = ’base’). A função help() pode ser utilizada para funções de pacotes anexados. Por exemplo, help(’sort’). Uma outra função que pode ser usada para procurar por funções com determinado parte de nome é apropos(), isto é, para o exemplo anterior, temos apropost(’sort’). O pacote <strong>base</strong> sempre estará anexado, isto é, disponível no caminho de busca para a utilização. Para os que não estão anexados, a função help deve informar o nome da função que necessita de ajuda, bem como o seu pacote. Por exemplo, temos uma função read.dbf() do pacote <strong>foreign</strong>, Base do <strong>R</strong> , porém, esse pacote não está anexado3 ao inicializar o <strong>R</strong>. Assim, caso não seja anexado o pacote, basta executar library(’foreign’) no console. A ajuda sobre a função pode ser realizada com help(’read.dbf’, package = ’foreign’). Outras sintaxes para a função help() é usar ? antes do nome de uma função de um pacote anexado, isto é, ?sort()‘ para o caso da função estudada.</p>
<p>Para os manuais de ajuda na internet, use ?? antes do nome da função, por exemplo ??sort(), read.dbf(), etc. Essa sintaxe não precisa dos pacotes estarem anexados para ajuda de determinada função, porém o pacote necessita estar instalado. Para mais detalhes sobre pacotes, leia o Capítulo 9.</p>
</div>
<div id="chamadas-de-funções" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Chamadas de funções<a class="anchor" aria-label="anchor" href="#chamadas-de-fun%C3%A7%C3%B5es"><i class="fas fa-link"></i></a>
</h2>
<p>As chamadas de funções podem ocorrer de três formas: aninhada, intermediária ou de forma pipe. Todas essas formas estão implementadas no R de forma nativa, porém este último, foi implementado inicialmente pelo pacote magrittr, e na versão do R 4.1, foi implementado o operador pipe nativo (|&gt;), sendo aprofundado no Volume II.</p>
<p>Suponha que desejamos calcular o desvio padrão de um conjunto de valores. Vamos utilizar as três formas de chamadas de função, que segue:</p>
<ul>
<li>Aninhado:</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Gerando 100 numeros aleatorios de uma distribuicao normal</span></span>
<span id="cb43-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">set.seed</span>(<span class="dv">10</span>) <span class="co"># Semente</span></span>
<span id="cb43-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb43-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Calculando o desvio padrao</span></span>
<span id="cb43-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">sqrt</span>(<span class="fu">var</span>(x))</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<ul>
<li>Intermediária:</li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Calculando o desvio padrao</span></span>
<span id="cb45-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  vari <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb45-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  desvpad <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(vari); desvpad</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<ul>
<li>Pipe:</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Para usar o pipe (magrittr), substitua |&gt; por %&gt;%, e instale e anexe o pacote:</span></span>
<span id="cb47-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># install.packages(magrittr)</span></span>
<span id="cb47-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">library</span>(magrittr)</span>
<span id="cb47-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Calculando o desvio padrao</span></span>
<span id="cb47-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x  <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">var</span>()<span class="sc">%&gt;%</span></span>
<span id="cb47-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">sqrt</span>()</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<p>A ideia da chamada de função aninhada é inserir função como argumento de funções sem necessidade de associar nomes aos objetos. A ordem de execução começa sempre da direita para a esquerda. No caso da chamada de função intermediária, associamos nomes a cada função, e os passos seguem. Por fim, o operador especial pipe (%&gt;%) tem como primeiro operando o primeiro argumento da função no segundo operando.</p>
<p>Quando desenvolvemos pacotes, preferimos os dois primeiros, pois é a forma tradicional de chamadas de função no R . A chamada de função pipe é muito utilizada para ciência de dados, uma vez que trabalhamos com manipulações de dados, visualizações gráficas, sem necessariamente precisarmos associar nomes aos objetos, de modo a armazenar seus resultados. Dessa forma é preferível o operador pipe.</p>
</div>
<div id="estruturas-de-controle-1" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> Estruturas de controle<a class="anchor" aria-label="anchor" href="#estruturas-de-controle-1"><i class="fas fa-link"></i></a>
</h2>
<p>As funções que utilizaremos, a seguir, são utilizadas quando desejamos realizar processos repetitivos para um determinado fim ou condicionado, as famosas estruturas de controle. Assim, como em outras linguagens, as funções utilizadas são: <em>if()</em>, <em>switch()</em>, <em>ifelse()</em>, <em>while()</em>, <em>repeat</em>, <em>for()</em>. Todos esses nomes são reservados no ambiente R, isto é, não podemos associar esses nomes a objetos. Esses objetos tem modo special4 ,porque as expressão não são necessariamente avaliadas. Já a função ifelse() é de modo closure. Este último é um tipo de objeto que é uma função criada por function(), e será o mesmo tipo de objeto que os usuários terão quando desenvolverem as suas próprias funções.</p>
<p>A sintaxe das estruturas de controle de tipo special é:</p>
<pre><code>função (condição) {
 expressão
}</code></pre>
<p>A sintaxe das funções repeat e swicth() foge um pouco desse padrão, e explicaremos em sua aplicação, mais a frente. Apesar da linguagem <strong>R</strong> ser interpretada, acaba ganhando a fama de que as funções loops são mais lentas. Em alguns casos, a construção do algoritmo proporciona isso e não a implementação dessas funções em si. Um exemplo que podemos citar, são as cópias de objetos que podem ter um gasto de memória ativa imenso no processo e proporcionar um gasto computacional. E isso foi devido a forma de como o algoritmo copiou os objetos, e não o desempenho das funções loops. Veremos isso em detalhes no Volume II.</p>
<p>A primeira estrutura é o if(), com sintaxe:</p>
<pre><code>if (condição) {
 # Corpo do if()
 #instruções sob condição = TRUE
}
</code></pre>
<p>O fluxograma para o entendimento da função if() pode ser observado na Figura 6.1. Podemos também representar a função if() sintaticamente com a função else da seguinte forma:</p>
<p>Agora, acrescentando a função else trabalhando conjuntamente com a função if(), temos a sua forma sintática dada por:</p>
<pre><code>if (condição) {
 # Corpo do if()
 # instruções sob condição = TRUE
} else {
 # Corpo do else
 # instruções sob condição = FALSE
}</code></pre>
<p>em que o fluxograma da combinação dessas duas funções podem ser representados pela Figura <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramadaFuncaoif">6.1</a>.</p>
<p>Uma forma mais simplificada unindo as funções if() e else, resultaram na função ifelse(), que pode ser representada sintaticamente da seguinte forma:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_da_Funcao_if.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramadaFuncaoif"></span>
<img src="img/Fluxograma_da_Funcao_if.png" alt="Fluxograma da função if()" width="80%"><p class="caption">
FIGURA 6.1: Fluxograma da função if()
</p>
</div>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_da_Funcao_if_else.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaElse"></span>
<img src="img/Fluxograma_da_Funcao_if_else.png" alt=" Modelo estrutural de um banco de dados" width="80%"><p class="caption">
FIGURA 6.2:  Modelo estrutural de um banco de dados
</p>
</div>
<pre><code>if (condição) instr1
if (condição) instr1 else instr2</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto</span></span>
<span id="cb55-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  i <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb55-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Estrutura if()</span></span>
<span id="cb55-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">3</span>) {</span>
<span id="cb55-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(<span class="st">"Maior␣que␣3!"</span>)</span>
<span id="cb55-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] "Maior&lt;U+2423&gt;que&lt;U+2423&gt;3!"</code></pre>
<p>Como observado no Código R 6.2, após associado o nome x associado ao objeto 5, isto é i &lt;- 5, a função if() foi chamada e a condição foi verificada se i &lt; 3. Como essa condição era verdadeira, a expressão sob a condição verdadeira é impressa, e a função if é encerrada. Vejamos mais um exemplo no Código R 6.3, a seguir.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto numerico</span></span>
<span id="cb57-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb57-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Estrutura 'if'</span></span>
<span id="cb57-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb57-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(<span class="st">"Isso␣é␣um␣número"</span>)</span>
<span id="cb57-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb57-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(<span class="st">"Isso␣não␣é␣um␣número"</span>)</span>
<span id="cb57-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] "Isso&lt;U+2423&gt;é&lt;U+2423&gt;um&lt;U+2423&gt;número"</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># eh o mesmo que</span></span>
<span id="cb59-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x) <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb59-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(<span class="st">"Isso␣é␣um␣número"</span>)</span>
<span id="cb59-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb59-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(<span class="st">"Isso␣não␣é␣um␣número"</span>)</span>
<span id="cb59-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] "Isso&lt;U+2423&gt;é&lt;U+2423&gt;um&lt;U+2423&gt;número"</code></pre>
<p>Observamos na primeira forma que a condição para if() avaliar, nós não precisamos perguntar se is.numeric(x) == TRUE, porque isso já é implícito na função, e acaba levando a primeira expressão print(“Isso é um número”). De todo modo, em um segundo momento explicitamos a condição, e verificamos que o resultado para este caso será o mesmo. No R , essa estrutura de controle não é vetorizado, isto é, se a condição houver um vetor lógico maior que 1, apenas os primeiros itens serão usados. Para entender, vejamos o Código R 6.4.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objetos</span></span>
<span id="cb61-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb61-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  w <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb61-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Primeira sintaxe (Preferivel)</span></span>
<span id="cb61-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (x <span class="sc">&lt;</span> w) {</span>
<span id="cb61-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  x</span>
<span id="cb61-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb61-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  w</span>
<span id="cb61-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## Warning in if (x &lt; w) {: a condição tem comprimento &gt; 1 e somente o primeiro
## elemento será usado</code></pre>
<pre><code>## [1] 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Segunda forma</span></span>
<span id="cb64-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (x <span class="sc">&lt;</span> w) x <span class="cf">else</span> w</span></code></pre></div>
<pre><code>## Warning in if (x &lt; w) x else w: a condição tem comprimento &gt; 1 e somente o
## primeiro elemento será usado</code></pre>
<pre><code>## [1] 3 4 5 6 7 8</code></pre>
<p>Observamos que o fato de x &lt; y ser vetorizado, tivemos problema com a condição if(). A partir de w &gt; 5, o resultado era para ter retornado sempre o valor 5, isto é, o valor verdadeiro (x) para a condição. Isso implica que a condição deve ser sempre entre vetores escalares. Uma saída seria utilizar a função for(), conjugada com if() e else. Porém, como forma de vetorizar essa condição, foi criado a função ifelse(), em que o fluxograma dessa função pode ser observado pela Figura , cuja forma sintática é dada a seguir.</p>
<pre><code>ifelse (condição, expressão sob TRUE, expressão sob FALSE)
</code></pre>
<p>Podemos ver que a aplicação do Código R 6.4 retornou um resultado que não se esperaria como o desejado, pelo fato da função if() não ser vetorizada. Assim, por meio do Código R 6.5 usando</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_da_Funcao_ifelse.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaIfElse"></span>
<img src="img/Fluxograma_da_Funcao_ifelse.png" alt="Fluxograma da função ifelse()" width="80%"><p class="caption">
FIGURA 6.3: Fluxograma da função ifelse()
</p>
</div>
<p>a função ifelse(), verificaremos que esta por ser vetorizada, o resultado retornado ocorre como
esperado.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objetos</span></span>
<span id="cb69-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb69-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  w <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb69-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Primeira sintaxe (Preferivel)</span></span>
<span id="cb69-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> w, x, w)</span></code></pre></div>
<pre><code>## [1] 3 4 5 5 5 5</code></pre>
<p>Podemos estar interessados em resultados específicos para determinadas condições, e daí, usar o que chamamos de programação defensiva, podendo ser apresentado no Código R 6.6.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># numero</span></span>
<span id="cb71-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb71-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="co"># Estrutura 'if'</span></span>
<span id="cb71-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(x)) {</span>
<span id="cb71-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="st">"Nao_eh_numero"</span></span>
<span id="cb71-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb71-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> ((<span class="fu">trunc</span>(x) <span class="sc">%%</span> <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb71-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">cat</span>(<span class="st">"numero_par:␣"</span>, <span class="fu">trunc</span>(x))</span>
<span id="cb71-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb71-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> ((<span class="fu">trunc</span>(x) <span class="sc">%%</span> <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb71-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">cat</span>(<span class="st">"numero_impar:␣"</span>, <span class="fu">trunc</span>(x))</span>
<span id="cb71-12"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb71-13"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb71-14"><a href="fun%C3%A7%C3%B5es-no-r.html#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## numero_par:&lt;U+2423&gt; 2</code></pre>
<p>A ideia no Código R 6.6 é escolher um numero inteiro o algoritmo verificar se este é par ou ímpar. O que pode ocorrer como supostos erros que foram protegidos pelo código, o primeiro é de se avaliar um valor que não seja número. Nesse caso, a primeira condição if(!is.numeric(x)) retornar uma mensagem que o valor não é um número. O segundo erro que poderia ocorrer é do valor inserido não ser um número inteiro. Nesse caso, truncamos o número apenas usando a sua parte inteira e desprezando a decimal, sem o arredondamento. Tentar evitar erros previsíveis, é o que chamamos de programação defensiva, uma forma do próprio usuário conseguir identificar o erro mais facilmente.</p>
<p>Um próximo exemplo, apresentado no Código R 6.6, mostrará inicialmente por meio da condição if() e else pode se apresentar um código mais complexo, sendo simplificado na sequência com o uso da função switch(), Código R 6.8. O fluxograma da função switch() pode ser observado pela Figura <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaSwitch">6.4</a>.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_Funcao_switch.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaSwitch"></span>
<img src="img/Fluxograma_Funcao_switch.png" alt="Fluxograma da função switch()." width="80%"><p class="caption">
FIGURA 6.4: Fluxograma da função switch().
</p>
</div>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto</span></span>
<span id="cb74-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">set.seed</span>(<span class="dv">15</span>) <span class="co"># Fixando a semente</span></span>
<span id="cb74-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>) <span class="co"># Gerando 1000 numeros aleatorios</span></span>
<span id="cb74-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># medida descritiva</span></span>
<span id="cb74-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  opcao <span class="ot">&lt;-</span> <span class="st">"media"</span> <span class="co"># opcoes: "media", "mediana", "medapar" (media aparada)</span></span>
<span id="cb74-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">"media"</span>) {</span>
<span id="cb74-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">cat</span>(<span class="st">"A␣média␣aritmética␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>))</span>
<span id="cb74-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb74-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">"mediana"</span>) {</span>
<span id="cb74-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-10" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">cat</span>(<span class="st">"A␣mediana␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>))</span>
<span id="cb74-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb74-12"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">"medapar"</span>) {</span>
<span id="cb74-13"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-13" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">cat</span>(<span class="st">"A␣média␣aparada␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>))</span>
<span id="cb74-14"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-14" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb74-15"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-15" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb74-16"><a href="fun%C3%A7%C3%B5es-no-r.html#cb74-16" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## A&lt;U+2423&gt;média&lt;U+2423&gt;aritmética&lt;U+2423&gt;é: 0.037</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto</span></span>
<span id="cb76-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">set.seed</span>(<span class="dv">15</span>) <span class="co"># Fixando a semente</span></span>
<span id="cb76-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>) <span class="co"># Gerando 1000 numeros aleatorios</span></span>
<span id="cb76-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># medida descritiva</span></span>
<span id="cb76-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  opcao <span class="ot">&lt;-</span> <span class="st">"media"</span> <span class="co"># opcoes: "media", "mediana", "medapar" (media aparada)</span></span>
<span id="cb76-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="cf">switch</span>(opcao,</span>
<span id="cb76-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">media =</span> <span class="fu">cat</span>(<span class="st">"A␣média␣aritmética␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>)),</span>
<span id="cb76-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">mediana =</span> <span class="fu">cat</span>(<span class="st">"A␣mediana␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>)),</span>
<span id="cb76-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">medapar =</span> <span class="fu">cat</span>(<span class="st">"A␣média␣aparada␣é:"</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>)) )</span></code></pre></div>
<pre><code>## A&lt;U+2423&gt;média&lt;U+2423&gt;aritmética&lt;U+2423&gt;é: 0.037</code></pre>
<p>As três estruturas básicas de loop no R são: repeat, while() e for(). Dizemos que um loop é um conjunto de instruções (expressões) em um algoritmo que se repete um número de vezes até que sejam alcançados os objetivos desejados. A repetição é controlada pelo contador, um objeto R . Cada repetição represeta um ciclo do loop. Enquanto a condição do loop for verdadeira, os ciclos se repetem atualizando o contador, Figura <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaLoop">6.5</a>. Algumas funções não têm condição explícita (repeat e while), e precisam de funções adicionais em suas expressões.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_loop.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaLoop"></span>
<img src="img/Fluxograma_loop.png" alt="Fluxograma do loop" width="80%"><p class="caption">
FIGURA 6.5: Fluxograma do loop
</p>
</div>
<p>A primeira função loop é repeat, apresentamos sua sintaxe:</p>
<pre><code>repeat {
 expressão ...
}</code></pre>
<p>Juntamente com o repeat, usamos as funções break e next, pois a função repeat não tem uma
condição explícita. Para o entendimento, criamos dois fluxogramas, sendo o primeiro entendendo a função repeat junto com a função break e o outro a função repeat juntamente com a função next, dos quais podem ser verificadas pelas Figuras <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaRepeatBreak">6.6</a> e <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaRepeatNext">6.7</a>, respectivamente. Vejamos, alguns exemplos para essas funções, iniciando pelo Código R 6.9.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_Funcao_repeat_break.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaRepeatBreak"></span>
<img src="img/Fluxograma_Funcao_repeat_break.png" alt="Fluxograma das funções repeat e break" width="80%"><p class="caption">
FIGURA 6.6: Fluxograma das funções repeat e break
</p>
</div>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_Funcao_repeat_next.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaRepeatNext"></span>
<img src="img/Fluxograma_Funcao_repeat_next.png" alt="Fluxograma das funções repeat e next" width="80%"><p class="caption">
FIGURA 6.7: Fluxograma das funções repeat e next
</p>
</div>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Contador</span></span>
<span id="cb82-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb82-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop repeat</span></span>
<span id="cb82-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">repeat</span> {</span>
<span id="cb82-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb82-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">break</span></span>
<span id="cb82-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  } <span class="cf">else</span> {</span>
<span id="cb82-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb82-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb82-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb82-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb82-11" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>Observamos que a condição em repeat se repete até i &gt; 5, ou seja, será impresso apenas os
valores de 1 a 5. Para que isso ocorra, nós quebramos o ciclo de repetição com a função break,
em que o objeto i &lt;- 1 [linha 1, Código R 6.9] é o contador do ciclo. Percebemos que cada ciclo apresenta no console como resultado a execução print(i) [linha 8, Código R 6.9], e que na sequência, o contador se atualiza, i &lt;- i + 1 [linha 9, Código R 6.9]. Essa situação se repete enquanto i &lt; 6, porque nessa situação a condição em else é sempre a executada. Assim, no momento em que o contador i é igual a 5, esse valor é impresso no console, e na sequência este é atualizado para i &lt;- 5 + 1, isto é, o contador assume valor igual a 6. Nesse momento, o ciclo recomeça e quando a linha 5 é avaliada, a condição i &gt; 5 passa a ser verdadeira, então a linha 6 é avaliado e função break entra em ação. Isso resulta na quebra do ciclo, e então a função repeat é encerrada. O próximo exemplo no Código 6.10, apresentamos a função next.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Contador</span></span>
<span id="cb84-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb84-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop repeat</span></span>
<span id="cb84-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">repeat</span> {</span>
<span id="cb84-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb84-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">break</span></span>
<span id="cb84-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> }</span>
<span id="cb84-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">else</span> {</span>
<span id="cb84-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb84-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb84-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-11" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="cf">next</span></span>
<span id="cb84-12"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb84-13"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb84-14"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb84-15"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-15" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb84-16"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-16" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb84-17"><a href="fun%C3%A7%C3%B5es-no-r.html#cb84-17" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 4
## [1] 5</code></pre>
<p>O que diferencia o Código R 6.9 para o Código R 6.10 é o acréscimo da função next ao código. Quando a condição if(i == 3) [linha 9, Código R 6.10] é verdadeira, as linhas 10 e 11 são executadas. Primeiro atualizamos o contador i &lt;- 3 + 1 [linha 10, Código R 6.10] e posteriormente, a função next [linha 10, Código R 6.10] é executada. Inserimos a linha 12 no Código R 6.10] para termos a ideia da função next, que é avançar o ciclo quando esta função é executada, ou seja, quando o contador quando assume valor 3, as linhas 10 e 11 são executadas, e após a função next ser chamada, as linhas 12, 14 e 15 não são executadas, porque se fossem, o valor 5 seria impresso duas vezes, e isso não ocorreu. O que aconteceu foi o avanço de ciclo. Devemos ter uma atenção a função repeat, porque como ela não tem um critério de parada explícito, podemos incorrer em um loop infinito.</p>
<p>Similar a função repeat(), temos a função while(), que agora, temos uma condição de parada, cujo fluxograma é dado pela Figura <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaWhile">6.8</a>, com sintaxe dada por:</p>
<pre><code>while (condição) {
 expressão ...
}</code></pre>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_Funcao_while.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaWhile"></span>
<img src="img/Fluxograma_Funcao_while.png" alt="Fluxograma da função while" width="80%"><p class="caption">
FIGURA 6.8: Fluxograma da função while
</p>
</div>
<p>Nessa função, também podemos usar as funções break e next, como usados na função repeat. Vejamos o exemplo no Código R 6.11.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Contador</span></span>
<span id="cb88-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb88-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop while</span></span>
<span id="cb88-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb88-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb88-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb88-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>Nesse caso, não foi necessário utilizar a função break, devido a condição que ela permite impor
ao ciclo. Vejamos um outro exemplo, no Código R 6.12.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Contador</span></span>
<span id="cb90-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb90-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop while</span></span>
<span id="cb90-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb90-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb90-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb90-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">next</span></span>
<span id="cb90-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb90-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb90-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb90-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 4
## [1] 5</code></pre>
<p>Observamos a utilização da função next, similar ao que foi realizado com a função repeat. Por
fim, a função for(), com cuja sintaxe é dada por:</p>
<pre><code>for (contador in lista) {
 expressão ...
}</code></pre>
<p>Com essa função, também podemos utilizar break e next. Porém, o controle do ciclo nessa
situação é maior, e menos necessário essas funções. Vejamos a Figura <a href="fun%C3%A7%C3%B5es-no-r.html#fig:FluxogramaFuncaoFor">6.9</a>.</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"img/Fluxograma_Funcao_for.png"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:FluxogramaFuncaoFor"></span>
<img src="img/Fluxograma_Funcao_for.png" alt="Fluxograma da função for()" width="80%"><p class="caption">
FIGURA 6.9: Fluxograma da função for()
</p>
</div>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop for</span></span>
<span id="cb94-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb94-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb94-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>Observamos que a implementação, dos algoritmos anteriores, é bem mais simples usando a função for(). Vejamos um próximo exemplo, no Código R 6.14.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Loop for</span></span>
<span id="cb96-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb96-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb96-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="cf">next</span></span>
<span id="cb96-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb96-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">print</span>(i)</span>
<span id="cb96-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 4
## [1] 5</code></pre>
<p>Mais uma vez, foi utilizado a função next, sem necessidade agora, de atualizar o contador i, uma vez que já está definido na função for(). Veremos na próxima subseção, que temos funções de alto nível que podem substituir as funções loops. São as chamadas funções da família apply.</p>
</div>
<div id="criando-funções" class="section level2" number="6.7">
<h2>
<span class="header-section-number">6.7</span> Criando funções<a class="anchor" aria-label="anchor" href="#criando-fun%C3%A7%C3%B5es"><i class="fas fa-link"></i></a>
</h2>
<p>Até esse momento, usamos funções já desenvolvidas no <strong>R</strong>, seja dos pacotes nativos, seja via instalação dos pacotes via CRAN. Agora, iremos desenvolver as nossas próprias funções.</p>
<p>Como falado anteriormente, no início, a estrutura da função criada se mantém, argumento, corpo e ambiente. Para isso, usaremos a função function(). O modo desse objeto é closure5. Vejamos a sua sintaxe,</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Forma usual</span></span>
<span id="cb98-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  nome_funcao <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb98-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  corpo<span class="sc">:</span> comandos..</span>
<span id="cb98-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb98-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Forma simplificada</span></span>
<span id="cb98-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  nome_funcao <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) corpo</span></code></pre></div>
<p>Desse modo, apresentamos o primeiro exemplo no Código R 6.15, a seguir</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Criando a funcao 'fun1'</span></span>
<span id="cb99-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> fun1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb99-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  res <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb99-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">return</span>(res)</span>
<span id="cb99-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> }</span></code></pre></div>
<p>Nesse caso, temos uma função chamada fun1(), cujo argumento de entrada é x. Observemos que uma função é como um objeto do tipo vector, associamos um nome ao objeto da mesma forma. O corpo apresenta uma delimitação por chaves …, em que apresenta um comando de atribuição, cujo nome res se associa ao resultado da soma x + 1. Por fim, o resultado dessa função, imprime res, por meio da função return(). Para executar fun1(), fazemos:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">fun1</span>(<span class="at">x =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>O que aconteceu foi que ao assumir x = 5 no argumento, essa informação foi repassada para o corpo da função fun1(), aonde existia o nome x, que se associou ao objeto 5, para esse caso. A função + é chamada, e a expressão x + 1 é avaliada, cujo nome res se associa ao resultado dessa expressão. Por fim, quando a função fun1() é chamada, o resultado de res é impressa no console, por meio de return(res). Vamos verificar os três componentes da função fun1() no console, isto é,</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Argumentos</span></span>
<span id="cb102-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">formals</span>(fun1)</span></code></pre></div>
<pre><code>## $x</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Corpo</span></span>
<span id="cb104-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">body</span>(fun1)</span></code></pre></div>
<pre><code>## {
##     res &lt;- x + 1
##     return(res)
## }</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ambiente</span></span>
<span id="cb106-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">environment</span>(fun1)</span></code></pre></div>
<pre><code>## &lt;environment: R_GlobalEnv&gt;</code></pre>
<p>O corpo da função é executado de forma sequencial, a partir da primeira linha de comando até a última. Apesar de recomendado, também não é obrigatório o uso da função return(), são as chamadas saídas explícitas6, sendo observado como segue,</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="co"># Funcao</span></span>
<span id="cb108-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>   fun2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb108-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   <span class="co"># Executando</span></span></code></pre></div>
<div id="função-anônima" class="section level3" number="6.7.1">
<h3>
<span class="header-section-number">6.7.1</span> Função anônima<a class="anchor" aria-label="anchor" href="#fun%C3%A7%C3%A3o-an%C3%B4nima"><i class="fas fa-link"></i></a>
</h3>
<p>Podemos também ter o que chamamos de função anônima, da qual não associamos nome as funções. Contudo, sendo criada esta não pode ser recuperada como qualquer outro objeto. Essa forma é interessante quando não precisamos dela após o seu uso. Por exemplo, queremos calcular a integral,</p>
<p><span class="math display">\[ \int_{0}^{1} x^2 \,dx=\frac{1}{3} \]</span>
e criamos uma função <span class="math inline">\(x^2\)</span>. Então,</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fu">integrate</span>(<span class="at">f =</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb109-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">lower =</span> <span class="dv">0</span>,</span>
<span id="cb109-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">upper =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## 0.3333333 with absolute error &lt; 3.7e-15</code></pre>
<p>A função integrate() é utilizada para o cálculo de integral, do qual, passamos os argumentos, função (f), limite inferior (lower) e limite superior (upper) da integração, respectivamente. Observemos que não houve necessidade de nomear a função no argumento, pois não há objetivo de ser reutilizado. Isso também ocorre muito na área de ciência de dados, quando muitas vezes fazemos manipulações com os dados ao mesmo tempo, sem necessidade de associar nomes aos resultados intermediários.</p>
</div>
<div id="chamadas-de-função" class="section level3" number="6.7.2">
<h3>
<span class="header-section-number">6.7.2</span> Chamadas de função<a class="anchor" aria-label="anchor" href="#chamadas-de-fun%C3%A7%C3%A3o"><i class="fas fa-link"></i></a>
</h3>
<p>As chamadas de funções ocorrem de três formas: aninhado, intermediário e via pipe. Vejamos o cálculo do desvio padrão novamente, Código R 6.16.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao auxiliar 1</span></span>
<span id="cb111-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  aux1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">-</span> <span class="fu">mean</span>(x)</span>
<span id="cb111-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao auxiliar 2</span></span>
<span id="cb111-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  aux2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb111-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao auxiliar 3</span></span>
<span id="cb111-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  aux3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb111-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">sum</span>(x) <span class="sc">/</span> (<span class="fu">length</span>(x) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb111-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-8" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb111-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Gerando 100 numeros aleatorios de uma distribuicao normal</span></span>
<span id="cb111-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb111-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb111-12"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Calculo do desvio padrao (aninhado)</span></span>
<span id="cb111-13"><a href="fun%C3%A7%C3%B5es-no-r.html#cb111-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">sqrt</span>(<span class="fu">aux3</span>(<span class="fu">aux2</span>(<span class="fu">aux1</span>(x))))</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Calculo do desvio padrao (intemediario)</span></span>
<span id="cb113-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  dp <span class="ot">&lt;-</span> <span class="fu">aux1</span>(x)</span>
<span id="cb113-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  dp <span class="ot">&lt;-</span> <span class="fu">aux2</span>(dp)</span>
<span id="cb113-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  dp <span class="ot">&lt;-</span> <span class="fu">aux3</span>(dp)</span>
<span id="cb113-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  dp <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(dp)</span>
<span id="cb113-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  dp</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Calculo do desvio padrao (pipe)</span></span>
<span id="cb115-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="sc">|&gt;</span></span>
<span id="cb115-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">aux1</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">aux2</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">aux3</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">sqrt</span>()</span></code></pre></div>
<pre><code>## [1] 0.9412359</code></pre>
<p>Mais detalhes sobre esses três aspectos serão abordados no Volume II.</p>
</div>
<div id="ordenação-de-argumentos" class="section level3" number="6.7.3">
<h3>
<span class="header-section-number">6.7.3</span> Ordenação de argumentos<a class="anchor" aria-label="anchor" href="#ordena%C3%A7%C3%A3o-de-argumentos"><i class="fas fa-link"></i></a>
</h3>
<p>Os argumentos nas funções podem ser nomeados ou não. Quando nomeados, a ordem como são
inseridos na função não importa. Já os argumentos não nomeados, seus valores precisam estar na ordem como a função foi desenvolvida. Vejamos o Código R 6.17, para entender melhor.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> estdesc <span class="ot">&lt;-</span> <span class="cf">function</span>(x, opcao) {</span>
<span id="cb117-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  res <span class="ot">&lt;-</span> <span class="cf">switch</span>(opcao,</span>
<span id="cb117-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>),</span>
<span id="cb117-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">mediana =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>),</span>
<span id="cb117-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="at">medapar =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>))</span>
<span id="cb117-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">return</span>(res)</span>
<span id="cb117-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> }</span>
<span id="cb117-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Objeto</span></span>
<span id="cb117-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">set.seed</span>(<span class="dv">15</span>)</span>
<span id="cb117-10"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>)</span>
<span id="cb117-11"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Argumentos nomeados na funcao</span></span>
<span id="cb117-12"><a href="fun%C3%A7%C3%B5es-no-r.html#cb117-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">estdesc</span>(<span class="at">x =</span> x, <span class="at">opcao =</span> <span class="st">"media"</span>)</span></code></pre></div>
<pre><code>## [1] 0.037</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">estdesc</span>(<span class="at">opcao =</span> <span class="st">"media"</span>, <span class="at">x =</span> x)</span></code></pre></div>
<pre><code>## [1] 0.037</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Argumentos não nomeados ordenados</span></span>
<span id="cb121-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">estdesc</span>(x, <span class="st">"media"</span>)</span></code></pre></div>
<pre><code>## [1] 0.037</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Argumentos não ordenados (Gera erro)</span></span>
<span id="cb123-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">estdesc</span>(<span class="st">"media"</span>, x)</span></code></pre></div>
<pre><code>## Error in switch(opcao, media = round(mean(x), 4), mediana = round(mean(x), : EXPR deve ser um vetor de comprimento 1</code></pre>
</div>
<div id="objeto-reticências" class="section level3" number="6.7.4">
<h3>
<span class="header-section-number">6.7.4</span> Objeto reticências (“…”)<a class="anchor" aria-label="anchor" href="#objeto-retic%C3%AAncias"><i class="fas fa-link"></i></a>
</h3>
<p>O objeto reticências é do tipo pairlist, um tipo de objeto usado bastante internamente no <strong>R</strong> , e dificilmente utilizado no código interpretado. Desse modo, não temos acesso direto a estrutura do objeto …. Contudo, esse objeto tem um papel fundamental nas funções, quando damos a liberdade de inserir mais argumentos além dos definidos na criação da função. Esse argumento é usado na função plot(), por exemplo, do pacote nativo <strong>base</strong>. Vejamos como o argumento … pode ser usado em uma função, no Código R 6.18.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao que plota um grafico</span></span>
<span id="cb125-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  grafico <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, ...) {</span>
<span id="cb125-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  <span class="fu">plot</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, ...)</span>
<span id="cb125-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb125-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Vetores</span></span>
<span id="cb125-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>; y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb125-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada 1, com os argumentos definidos</span></span>
<span id="cb125-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb125-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">grafico</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)</span></code></pre></div>
<div class="inline-figure"><img src="06-funcoes_files/figure-html/unnamed-chunk-35-1.png" width="672"></div>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada 2, inserindo argumentos nao definidos</span></span>
<span id="cb126-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">grafico</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">main =</span> <span class="st">"Título"</span>)</span></code></pre></div>
<div class="inline-figure"><img src="06-funcoes_files/figure-html/unnamed-chunk-36-1.png" width="672"></div>
<p>Isso ocorre, porque temos a função plot() no corpo da função grafico() que apresenta muitos
argumentos. Dessa forma, criamos a função grafico(), com os argumentos que representam as coordenadas, mas a reticências (‘…’) garantem que os demais argumentos da função plot, omitidos, possam ser utilizados.</p>
</div>
</div>
<div id="escopo-léxico-1" class="section level2" number="6.8">
<h2>
<span class="header-section-number">6.8</span> Escopo léxico<a class="anchor" aria-label="anchor" href="#escopo-l%C3%A9xico-1"><i class="fas fa-link"></i></a>
</h2>
<p>Vamos retornar aos componentes da função fun1(), desenvolvido no Código R 6.15, reapresentando novamente as três estruturas de uma função,</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Argumentos</span></span>
<span id="cb127-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">formals</span>(fun1)</span></code></pre></div>
<pre><code>## $x</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Corpo</span></span>
<span id="cb129-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">body</span>(fun1)</span></code></pre></div>
<pre><code>## {
##     res &lt;- x + 1
##     return(res)
## }</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ambiente</span></span>
<span id="cb131-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">environment</span>(fun1)</span></code></pre></div>
<pre><code>## &lt;environment: R_GlobalEnv&gt;</code></pre>
<p>Observemos que o último componente é o ambiente onde o nome fun1 foi associado a função.
Este ambiente é chamado de <strong>ambiente envolvente</strong>. Nesse caso é o ambiente global. Contudo, quando a função é executada, momentaneamente é criado o <strong>ambiente de execução</strong>. É neste ambiente que os nomes que estão no corpo da função são associados aos objetos. Vejamos um primeiro exemplo, Código R 6.19.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb133-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb133-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb133-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  x</span>
<span id="cb133-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb133-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamando a funcao fun</span></span>
<span id="cb133-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Por causa do ambiente de execução que o objeto x dentro da função é retornado, ao invés do que foi definido fora da função. Isso porque o ambiente de execução mascara os nomes definidos dentro da função dos nomes definidos fora da função. Esse é uma primeira característica do escopo léxico nas funções em R . Anteriormente, falamos sobre a atribuição, que representa a forma como os nomes se associam aos objetos. Agora, o escopo vem a ser a forma como os nomes encontram seus valores associados. O termo léxico significa que as funções podem encontrar nomes e seus respectivos valores associados, definidos no ambiente onde a função foi definida, isto é, no ambiente de função. Claro que isso segue regras, e a primeira foi a máscara de nome falada anteriormente.
Porém quando não existe um nome vinculado a um objeto, e este foi definido no ambiente de função, o valor é repassado para o corpo da função, como pode ser observado no Código R 6.20.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb135-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb135-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  x</span>
<span id="cb135-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb135-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamando a funcao fun</span></span>
<span id="cb135-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>O resultado de fun() foi 10, porque como a função procurou no ambiente de execuções e não encontrou esse nome, a função foi até o ambiente superior, no caso, o ambiente de execuções. Como falado anteriormente, todo ambiente tem um pai (ou ambiente superior). Essa hierarquização é observada no caminho de busca, que pode ser acessado por search(), ou seja,</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="fu">search</span>()</span></code></pre></div>
<pre><code>##  [1] ".GlobalEnv"        "package:magrittr"  "package:stats"    
##  [4] "package:graphics"  "package:grDevices" "package:utils"    
##  [7] "package:datasets"  "package:methods"   "Autoloads"        
## [10] "package:base"</code></pre>
<p>O ambiente corrente do R sempre será o ambiente ambiente global (.GlobalEnv). O ambiente de execução não aparece, porque ele é momentâneo. Então, após buscar no ambiente de execução e não encontrar, é pelo caminho de busca que a função irá procurar pelos objetos inseridos no corpo da função. Ele só existe quando a função é chamada e não quando ela é definida, isto é,</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao</span></span>
<span id="cb139-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  fun <span class="ot">&lt;-</span> <span class="cf">function</span>() x <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb139-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto 1</span></span>
<span id="cb139-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb139-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada1</span></span>
<span id="cb139-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto 2</span></span>
<span id="cb141-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  x <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb141-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada 2</span></span>
<span id="cb141-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Observe que após ser criada a função fun(), o nome x se associou ao objeto 10. Posteriormente, fun() foi chamada e o resultado foi 20. Contudo, o nome x se associou a outro objeto 20, e após a segunda chamada da função fun(), o resultado foi 30, porque a função procura os valores quando ela é executada, e não quando é criada, é a característica de pesquisa dinâmica do escopo léxico. Uma outra situação pode ser observada no Código R 6.21.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Objeto</span></span>
<span id="cb143-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  n <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb143-3"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Funcao</span></span>
<span id="cb143-4"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb143-5"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>    n <span class="ot">&lt;-</span> n <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb143-6"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>    n</span>
<span id="cb143-7"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>  }</span>
<span id="cb143-8"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada 1</span></span>
<span id="cb143-9"><a href="fun%C3%A7%C3%B5es-no-r.html#cb143-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="fun%C3%A7%C3%B5es-no-r.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  <span class="co"># Chamada 2</span></span>
<span id="cb145-2"><a href="fun%C3%A7%C3%B5es-no-r.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span>  <span class="fu">fun</span>()</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Nessas linhas de comando, poderíamos pensar que após ter executado a primeira chamada, o
valor retornado seria 2, e a segunda chamada retornaria o valor 3, como ocorre com as variáveis estáticas na linguagem C, por exemplo. Aqui nesse caso, o resultado independente do número de chamadas, será sempre o mesmo porque uma outra característica do escopo léxico no <strong>R</strong> é o <strong>novo</strong> começo, porque a cada vez que a função é executada um novo ambiente de execução é criado, e portanto, cada execução dos comandos de atribuição e expressão são executados de forma independentes nas chamadas de funções.</p>
<p>Algo que não havíamos falado anteriormente, é que a função function() não necessariamente
necessita de definição de argumentos, devido a flexibilidade do escopo léxico das funções em <strong>R</strong>. É essa característica que faz com que os comandos no corpo das funções encontrem os objetos que não estão definidos na própria função. Mais detalhes, serão encontrado no <em>Volume II: Nível Intermediário</em> da coleção <em>Estudando o Ambiente R</em>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="importa%C3%A7%C3%A3o-e-exporta%C3%A7%C3%A3o-de-dados.html"><span class="header-section-number">5</span> Importação e exportação de dados</a></div>
<div class="next"><a href="boas-pr%C3%A1ticas-de-como-escrever-um-c%C3%B3digo.html"><span class="header-section-number">7</span> Boas práticas de como escrever um código</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#fun%C3%A7%C3%B5es-no-r"><span class="header-section-number">6</span> Funções no R</a></li>
<li><a class="nav-link" href="#introdu%C3%A7%C3%A3o-1"><span class="header-section-number">6.1</span> Introdução</a></li>
<li><a class="nav-link" href="#o-que-%C3%A9-uma-fun%C3%A7%C3%A3o-no-r"><span class="header-section-number">6.2</span> O que é uma função no R?</a></li>
<li><a class="nav-link" href="#estrutura-b%C3%A1sica-de-uma-fun%C3%A7%C3%A3o"><span class="header-section-number">6.3</span> Estrutura básica de uma função</a></li>
<li><a class="nav-link" href="#fun%C3%A7%C3%B5es-em-pacotes"><span class="header-section-number">6.4</span> Funções em pacotes</a></li>
<li><a class="nav-link" href="#chamadas-de-fun%C3%A7%C3%B5es"><span class="header-section-number">6.5</span> Chamadas de funções</a></li>
<li><a class="nav-link" href="#estruturas-de-controle-1"><span class="header-section-number">6.6</span> Estruturas de controle</a></li>
<li>
<a class="nav-link" href="#criando-fun%C3%A7%C3%B5es"><span class="header-section-number">6.7</span> Criando funções</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#fun%C3%A7%C3%A3o-an%C3%B4nima"><span class="header-section-number">6.7.1</span> Função anônima</a></li>
<li><a class="nav-link" href="#chamadas-de-fun%C3%A7%C3%A3o"><span class="header-section-number">6.7.2</span> Chamadas de função</a></li>
<li><a class="nav-link" href="#ordena%C3%A7%C3%A3o-de-argumentos"><span class="header-section-number">6.7.3</span> Ordenação de argumentos</a></li>
<li><a class="nav-link" href="#objeto-retic%C3%AAncias"><span class="header-section-number">6.7.4</span> Objeto reticências (“…”)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#escopo-l%C3%A9xico-1"><span class="header-section-number">6.8</span> Escopo léxico</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/bendeivide/book-eambr01/blob/main/06-funcoes.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/bendeivide/book-eambr01/edit/main/06-funcoes.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R básico</strong>: Coleção Estudando o Ambiente R (Volume I)" was written by Ben Dêivide e Diego Arthur. It was last built on 2022-10-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
