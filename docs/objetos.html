<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 4 Objetos | Estudando o Ambiente R</title>
  <meta name="description" content="Capítulo 4 Objetos | Estudando o Ambiente R" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 4 Objetos | Estudando o Ambiente R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bendeivide.github.io/book-eambr/" />
  
  
  <meta name="github-repo" content="bendeivide/book-eambr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 4 Objetos | Estudando o Ambiente R" />
  
  
  

<meta name="author" content="Ben Dêivide, Diego Arthur" />


<meta name="date" content="2021-08-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introdução-ao-r.html"/>
<link rel="next" href="boas-práticas-de-como-escrever-um-código.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estudando o ambiente R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bem-vindo</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licença"><i class="fa fa-check"></i>Licença</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="epígrafe.html"><a href="epígrafe.html"><i class="fa fa-check"></i>Epígrafe</a></li>
<li class="chapter" data-level="1" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html"><i class="fa fa-check"></i><b>1</b> Introdução ao livro</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#basico"><i class="fa fa-check"></i><b>1.1</b> Programação em R (Nível Básico)</a></li>
<li class="chapter" data-level="1.2" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#intermediario"><i class="fa fa-check"></i><b>1.2</b> Programação em R (Nível Intermediário)</a></li>
<li class="chapter" data-level="1.3" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#avancado"><i class="fa fa-check"></i><b>1.3</b> Programação em R (Nível Avançado)</a></li>
<li class="chapter" data-level="1.4" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#referencias"><i class="fa fa-check"></i><b>1.4</b> Referências dos curso</a></li>
<li class="chapter" data-level="1.5" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#buscarmateriais"><i class="fa fa-check"></i><b>1.5</b> Onde encontrar os nossos materiais</a></li>
<li class="chapter" data-level="1.6" data-path="introdução-ao-livro.html"><a href="introdução-ao-livro.html#pacutilizados"><i class="fa fa-check"></i><b>1.6</b> Pacotes R utilizados para esse curso</a></li>
</ul></li>
<li class="part"><span><b>I Programação em R (Nível Básico)</b></span></li>
<li class="chapter" data-level="2" data-path="instalação-do-r-e-rstudio.html"><a href="instalação-do-r-e-rstudio.html"><i class="fa fa-check"></i><b>2</b> Instalação do R e RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="instalação-do-r-e-rstudio.html"><a href="instalação-do-r-e-rstudio.html#como-utilizar-o-r-e-o-rstudio"><i class="fa fa-check"></i><b>2.1</b> Como utilizar o R e o RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="instalação-do-r-e-rstudio.html"><a href="instalação-do-r-e-rstudio.html#história-do-r"><i class="fa fa-check"></i><b>2.2</b> História do R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html"><i class="fa fa-check"></i><b>3</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#como-o-r-trabalha"><i class="fa fa-check"></i><b>3.1</b> Como o R trabalha</a></li>
<li class="chapter" data-level="3.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#comandos-no-r-e-ambiente-global"><i class="fa fa-check"></i><b>3.2</b> Comandos no R e Ambiente Global</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#console-e-prompt-de-comando"><i class="fa fa-check"></i><b>3.2.1</b> Console e <em>Prompt</em> de comando</a></li>
<li class="chapter" data-level="3.2.2" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#comandos-elementares"><i class="fa fa-check"></i><b>3.2.2</b> Comandos elementares</a></li>
<li class="chapter" data-level="3.2.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#execução-de-comandos"><i class="fa fa-check"></i><b>3.2.3</b> Execução de comandos</a></li>
<li class="chapter" data-level="3.2.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#chamada-e-correção-de-comandos-anteriores"><i class="fa fa-check"></i><b>3.2.4</b> Chamada e correção de comandos anteriores</a></li>
<li class="chapter" data-level="3.2.5" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#ambiente-global-área-de-trabalho-ou-workspace"><i class="fa fa-check"></i><b>3.2.5</b> Ambiente Global (área de trabalho ou <em>Workspace</em>)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#arquivos-.rdata-e-.rhistory"><i class="fa fa-check"></i><b>3.3</b> Arquivos <code>.RData</code> e <code>.Rhistory</code></a></li>
<li class="chapter" data-level="3.4" data-path="introdução-ao-r.html"><a href="introdução-ao-r.html#criando-e-salvando-um-script"><i class="fa fa-check"></i><b>3.4</b> Criando e salvando um <em>script</em></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="objetos.html"><a href="objetos.html"><i class="fa fa-check"></i><b>4</b> Objetos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="objetos.html"><a href="objetos.html#atributos"><i class="fa fa-check"></i><b>4.1</b> Atributos</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="objetos.html"><a href="objetos.html#atributos-1"><i class="fa fa-check"></i><b>4.1.1</b> Atributos</a></li>
<li class="chapter" data-level="4.1.2" data-path="objetos.html"><a href="objetos.html#atributos-intrínsecos"><i class="fa fa-check"></i><b>4.1.2</b> Atributos intrínsecos</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="objetos.html"><a href="objetos.html#coersão"><i class="fa fa-check"></i><b>4.2</b> Coersão</a></li>
<li class="chapter" data-level="4.3" data-path="objetos.html"><a href="objetos.html#tipo-de-objetos"><i class="fa fa-check"></i><b>4.3</b> Tipo de objetos</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="objetos.html"><a href="objetos.html#vetores"><i class="fa fa-check"></i><b>4.3.1</b> Vetores</a></li>
<li class="chapter" data-level="4.3.2" data-path="objetos.html"><a href="objetos.html#matrizes-bidimensionais"><i class="fa fa-check"></i><b>4.3.2</b> Matrizes bidimensionais</a></li>
<li class="chapter" data-level="4.3.3" data-path="objetos.html"><a href="objetos.html#matrizes-multidimensionais"><i class="fa fa-check"></i><b>4.3.3</b> Matrizes multidimensionais</a></li>
<li class="chapter" data-level="4.3.4" data-path="objetos.html"><a href="objetos.html#listas"><i class="fa fa-check"></i><b>4.3.4</b> Listas</a></li>
<li class="chapter" data-level="4.3.5" data-path="objetos.html"><a href="objetos.html#quadro-de-dados"><i class="fa fa-check"></i><b>4.3.5</b> Quadro de dados</a></li>
<li class="chapter" data-level="4.3.6" data-path="objetos.html"><a href="objetos.html#importando-dados"><i class="fa fa-check"></i><b>4.3.6</b> Importando dados</a></li>
<li class="chapter" data-level="4.3.7" data-path="objetos.html"><a href="objetos.html#funções"><i class="fa fa-check"></i><b>4.3.7</b> Funções</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html"><i class="fa fa-check"></i><b>5</b> Boas práticas de como escrever um código</a>
<ul>
<li class="chapter" data-level="5.1" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html#nomes-de-arquivos"><i class="fa fa-check"></i><b>5.1</b> Nomes de arquivos</a></li>
<li class="chapter" data-level="5.2" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html#boa-escolha"><i class="fa fa-check"></i><b>5.2</b> Boa escolha:</a></li>
<li class="chapter" data-level="5.3" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html#má-escolha"><i class="fa fa-check"></i><b>5.3</b> Má escolha:</a></li>
<li class="chapter" data-level="5.4" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html#comentar-as-linahs-de-comando"><i class="fa fa-check"></i><b>5.4</b> Comentar as linahs de comando</a></li>
<li class="chapter" data-level="5.5" data-path="boas-práticas-de-como-escrever-um-código.html"><a href="boas-práticas-de-como-escrever-um-código.html#boa-escolha-1"><i class="fa fa-check"></i><b>5.5</b> Boa escolha:</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="objeto-x.html"><a href="objeto-x.html"><i class="fa fa-check"></i><b>6</b> Objeto x</a>
<ul>
<li class="chapter" data-level="6.1" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-1"><i class="fa fa-check"></i><b>6.1</b> Má escolha:</a></li>
<li class="chapter" data-level="6.2" data-path="objeto-x.html"><a href="objeto-x.html#nome-de-objetos"><i class="fa fa-check"></i><b>6.2</b> Nome de objetos</a></li>
<li class="chapter" data-level="6.3" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-2"><i class="fa fa-check"></i><b>6.3</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.4" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-2"><i class="fa fa-check"></i><b>6.4</b> Má escolha:</a></li>
<li class="chapter" data-level="6.5" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-3"><i class="fa fa-check"></i><b>6.5</b> Má escolha:</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="objeto-x.html"><a href="objeto-x.html#sintaxe"><i class="fa fa-check"></i><b>6.5.1</b> Sintaxe</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-3"><i class="fa fa-check"></i><b>6.6</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.7" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-4"><i class="fa fa-check"></i><b>6.7</b> Má escolha:</a></li>
<li class="chapter" data-level="6.8" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-4"><i class="fa fa-check"></i><b>6.8</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.9" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-5"><i class="fa fa-check"></i><b>6.9</b> Má escolha:</a></li>
<li class="chapter" data-level="6.10" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-5"><i class="fa fa-check"></i><b>6.10</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.11" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-6"><i class="fa fa-check"></i><b>6.11</b> Má escolha:</a></li>
<li class="chapter" data-level="6.12" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-6"><i class="fa fa-check"></i><b>6.12</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.13" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-7"><i class="fa fa-check"></i><b>6.13</b> Má escolha:</a></li>
<li class="chapter" data-level="6.14" data-path="objeto-x.html"><a href="objeto-x.html#boa-escolha-7"><i class="fa fa-check"></i><b>6.14</b> Boa escolha:</a></li>
<li class="chapter" data-level="6.15" data-path="objeto-x.html"><a href="objeto-x.html#má-escolha-8"><i class="fa fa-check"></i><b>6.15</b> Má escolha:</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pacotes.html"><a href="pacotes.html"><i class="fa fa-check"></i><b>7</b> Pacotes</a>
<ul>
<li class="chapter" data-level="7.1" data-path="pacotes.html"><a href="pacotes.html#instalação-de-um-pacote"><i class="fa fa-check"></i><b>7.1</b> Instalação de um pacote</a></li>
<li class="chapter" data-level="7.2" data-path="pacotes.html"><a href="pacotes.html#objetivos-de-um-pacote"><i class="fa fa-check"></i><b>7.2</b> Objetivos de um pacote</a></li>
<li class="chapter" data-level="7.3" data-path="pacotes.html"><a href="pacotes.html#utilizando-funções-de-um-pacote"><i class="fa fa-check"></i><b>7.3</b> Utilizando funções de um pacote</a></li>
<li class="chapter" data-level="7.4" data-path="pacotes.html"><a href="pacotes.html#carregando-e-anexando-um-pacote"><i class="fa fa-check"></i><b>7.4</b> Carregando e anexando um pacote</a></li>
<li class="chapter" data-level="7.5" data-path="pacotes.html"><a href="pacotes.html#namespace-de-um-pacote"><i class="fa fa-check"></i><b>7.5</b> <em>NAMESPACE</em> de um pacote</a></li>
<li class="chapter" data-level="7.6" data-path="pacotes.html"><a href="pacotes.html#usando-os-operadores-e"><i class="fa fa-check"></i><b>7.6</b> Usando os operadores <code>::</code> e <code>:::</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ambientes-e-caminho-de-busca.html"><a href="ambientes-e-caminho-de-busca.html"><i class="fa fa-check"></i><b>8</b> Ambientes e caminho de busca</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ambientes-e-caminho-de-busca.html"><a href="ambientes-e-caminho-de-busca.html#a-superatribuição"><i class="fa fa-check"></i><b>8.1</b> A superatribuição</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="interfaces-com-outras-linguagens.html"><a href="interfaces-com-outras-linguagens.html"><i class="fa fa-check"></i><b>9</b> Interfaces com outras linguagens</a></li>
<li class="divider"></li>
<li><a href="https://bendeivide.github.io/cursor" target="blank">Acesse o curso desse material!</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estudando o Ambiente R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="objetos" class="section level1" number="4">
<h1><span class="header-section-number">Capítulo 4</span> Objetos</h1>
<p>Definimos um objeto como uma entidade no ambiente R com características internas contendo informações necessárias para interpretar sua estrutura e conteúdo. Essas características são chamadas de <strong>atributos</strong>. Vamos entender o termo estrutura como a disposição de como está o seu conteúdo. Por exemplo, a estrutura de um objeto mais simples no R é um vetor atômico, pois os elementos contidos nele, apresenta o mesmo <strong>modo</strong>, um tipo de <strong>atributo</strong>. Falaremos nisso, mais à frente. De forma didática, adaptaremos a representação dos objetos no formato de diagrama.</p>
<p>Vejamos o seguinte código:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="objetos.html#cb22-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span></code></pre></div>
<div id="atributos" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Atributos</h2>
<p>Todo mundo que tem uma certa noção sobre a linguagem R afirmaria: “criei um objeto x que recebe o valor 10.” Para Wickham (2019) essa afirmação é imprecisa e pode levar um entendimento equivocado sobre o que acontece de fato. Para o mesmo autor, o correto é afirmar que o objeto 10 está se ligando a um nome. E de fato, o objeto não tem um nome, mas o nome tem um objeto. O símbolo que associa um objeto a um nome é o de atribuição, &lt;-, isto é, a junção do símbolo desigualdade menor e o símbolo de menos. Para ver qual objeto associado ao nome, o usuário precisa apenas digitar o nome no console e apertar a tecla ENTER.</p>
<p>Representaremos em termos de diagrama, um nome se ligando a um objeto, na Figura <a href="objetos.html#fig:LigacaoObjeto">4.1</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:LigacaoObjeto"></span>
<img src="img/Ligacao_Objeto.PNG" alt="Dizemos que o nome 'x' se liga ao objeto do tipo (estrutura) vetor." width="100%" />
<p class="caption">
FIGURA 4.1: Dizemos que o nome ‘x’ se liga ao objeto do tipo (estrutura) vetor.
</p>
</div>
<p>O identificador na memoría ativa desse objeto pode ser obtida por:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="objetos.html#cb23-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(x)</span>
<span id="cb23-2"><a href="objetos.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;0xf8a104fc20&quot;</span></span></code></pre></div>
<p>O diagrama explica que o nome criado “x” se associou com um objeto do <strong>tipo</strong> (estrutura) vetor (vector) e <strong>modo</strong> numérico (numeric), cuja identificação na memória ativa do seu computador foi &lt;0xf8a104fc20&gt;. É claro que para cada vez que o usuário abri o ambiente R e executar novamente esse comando, ou repeti o comando, esse identificador irá alterar.</p>
<p>Essa outra representação ficará mais claro para a afirmação feita anteriormente, no segundo diagrama, Figura 9, que representa a ligação do nome “y” ao mesmo objeto. Os termos nos diagramas, serão usados de acordo com a sintaxe da linguagem com os termos em inglês para melhor compreensão e fixação dos termos utilizados em R, uma vez que os termos na linguagem são baseados nesse idioma.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="objetos.html#cb24-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x</span>
<span id="cb24-2"><a href="objetos.html#cb24-2" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(y)</span>
<span id="cb24-3"><a href="objetos.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;0xf8a104fc20&quot;</span></span></code></pre></div>
<p>Observem que não houve a criação de um outro objeto, mas apenas a ligação de mais um nome ao objeto existente, pois o identificador na memória ativa para o objeto não alterou, é o mesmo. Logo, não temos um outro objeto, mais dois nomes que se ligam ao mesmo objeto.</p>
<div class="figure" style="text-align: center"><span id="fig:LigacaoObjeto2"></span>
<img src="img/Ligacao_Objeto2.PNG" alt="Dizemos que o nome 'x' e ‘y’ se ligam ao objeto do tipo (estrutura) vetor." width="100%" />
<p class="caption">
FIGURA 4.2: Dizemos que o nome ‘x’ e ‘y’ se ligam ao objeto do tipo (estrutura) vetor.
</p>
</div>
<p>Mais especificamente, acrescentamos um outro diagrama, Figura <a href="objetos.html#fig:ObjetoAmbienteGlobal">4.3</a>, mostrando a representação do ambiente global (.GlobalEnv, nome associado ao objeto que representa o ambiente global).</p>
<div class="figure" style="text-align: center"><span id="fig:ObjetoAmbienteGlobal"></span>
<img src="img/Objeto_Ambiente_Global.PNG" alt="Dizemos que o nome 'x' e 'y' se ligam ao objeto do tipo (estrutura) vetor e essa ligação fica armazenada no ambiente global." width="100%" />
<p class="caption">
FIGURA 4.3: Dizemos que o nome ‘x’ e ‘y’ se ligam ao objeto do tipo (estrutura) vetor e essa ligação fica armazenada no ambiente global.
</p>
</div>
<p>De todo modo, deixaremos para o módulo Programação em R (Nível Intermediário), uma abordagem mais profunda sobre o assunto.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="objetos.html#cb25-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb25-2"><a href="objetos.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="ot">-&gt;</span> x</span></code></pre></div>
<p>Essas duas linhas de comando anteriores podem ter passado despercebidas pelo leitor em uma situação. Se na segunda linha tivéssemos alterado o valor do objeto de 10 para 30, por exemplo, a associação de x seria ao objeto 30. Isso significa que se o nome já existe, ele será apagado da memória ativa do computador e associado ao novo objeto. Veja,</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="objetos.html#cb26-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(x)</span>
<span id="cb26-2"><a href="objetos.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;0xf8a104fc20&quot;</span></span>
<span id="cb26-3"><a href="objetos.html#cb26-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb26-4"><a href="objetos.html#cb26-4" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(x)</span>
<span id="cb26-5"><a href="objetos.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;0x42db6dbb50&quot;</span></span></code></pre></div>
<p>Uma outra forma menos convencional é usar o comando assign, veja:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="objetos.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">assign</span>(<span class="st">&quot;m&quot;</span>, <span class="dv">15</span>)</span>
<span id="cb27-2"><a href="objetos.html#cb27-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<p>[1] 15</p>
<p>o invés do símbolo de atribuição, muitos usuários utilizam o símbolo da igualdade “=” para associarmos nomes aos objetos, que o ambiente R compreenderá. Contudo, discutiremos mas adiante, em Boas práticas de como escrever um código, que o uso da igualdade deverá em R ser usado apenas para a utilização em argumentos de uma função.</p>
<p>Quando desejamos executar mais de uma linha de comando por vez, separamos estas pelo símbolo “;” isto é,</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="objetos.html#cb28-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span>; w <span class="ot">&lt;-</span> <span class="dv">15</span>; x; w</span></code></pre></div>
<p>[1] 10
[1] 15</p>
<p>Neste caso, executamos quatro comandos em uma linha. Associamos dois nomes a dois objetos e imprimimos os seus valores.</p>
<p>Por questão de comodidade, iremos a partir de agora, sempre nos referir a um objeto pelo nome associado a ele, para não está sempre se expressando como “um nome associado a um objeto.” Mas que fique claro a discussão realizada anteriormente sobre esses conceitos.</p>
<p>Nesse momento, nos limitaremos a falar sobre objetos que armazenam dados, do tipo caracteres, números e operadores lógicos (TRUE/FALSE).</p>
<div id="atributos-1" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Atributos</h3>
<p>Todos os objetos, terão pelo menos dois tipos de atributos, chamados de atributos intrínsecos. Os demais atributos, quando existem, podem ser verificados pela função attributes(). A ideia dos atributos pode ser pensada como metadados, isto é, um conjunto de informações que caracterizam o objeto.</p>
<p>Diremos também que todos os objetos R tem uma <strong>classe</strong>, e por meio dessas classes, determinadas funções podem ter comportamento diferente a objetos com classes diferentes. Agora, devemos deixar claro essa informação, apesar do R seguir o <strong>princípio do Objeto</strong>, nem tudo é orientado a objetos, como por exemplo, observamos na linguagens C++ e Java. Deixemos esse tópico para o módulo Programação em R (Nível Intermediário).</p>
<p>A forma de se verificar a classe de um objeto é pela função class(). Contudo, os objetos internos do R (base), quando solicitado sua classe pela função class(), acabam retornando, algumas vezes, resultados equivocados. Uma alternativa é utilizar a função sloop::s3_class() do pacote sloop. Isso também será discutido no módulo Programação em R (Nível Intermedirário).</p>
<p>Devemos estar atentos a uma questão. Existe um atributo também chamado classe (“class”), e nem todos os objetos necessariamente tem esse atributo, apenas aqueles orientados a objetos, como é o caso do objeto com atributo classe . Por exemplo, é devido a classe factor no objeto criado pela função factor() que apesar do seu resultado ser numérico, este não se comporta como numérico. Isto significa que o atributo classe muda o comportamento de como funções veem esse objeto.</p>
<p>Para verificarmos se tal objeto tem o atributo class, usamos a função attributes(). Quando este atributo existe, ele é coincidente com o resultado obtido também pela função class().</p>
<p>O tipo das classes podem ser numeric, logical, character, list, matrix, array, factor e data.frame. Por enquanto, nos concentraremos nas classes de objetos que armazenam dados para uso em análises.</p>
<p>Para remover o efeito da classe, usamos a função unclass() para tal.</p>
<p>Por exemplo, quando criamos um objeto da classe data.frame, vejamos o seu comportamento:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="objetos.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criamos um objeto de classe &#39;data.frame&#39;</span></span>
<span id="cb29-2"><a href="objetos.html#cb29-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb29-3"><a href="objetos.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="objetos.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo na tela</span></span>
<span id="cb29-5"><a href="objetos.html#cb29-5" aria-hidden="true" tabindex="-1"></a>dados</span></code></pre></div>
<p>a b
1 1 A
2 2 B
3 3 C</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="objetos.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando sua classe</span></span>
<span id="cb30-2"><a href="objetos.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dados)</span></code></pre></div>
<p>[1] “data.frame”</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="objetos.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando o efeito do objeto &#39;dados&#39;,</span></span>
<span id="cb31-2"><a href="objetos.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sem o efeito da classe</span></span>
<span id="cb31-3"><a href="objetos.html#cb31-3" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">unclass</span>(dados); dados2</span></code></pre></div>
<p>$a
[1] 1 2 3</p>
<p>$b
[1] “A” “B” “C”</p>
<p>attr(,“row.names”)
[1] 1 2 3</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="objetos.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Qual a classe desse objeto sem o efeito da</span></span>
<span id="cb32-2"><a href="objetos.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># classe &#39;data.frame&#39;</span></span>
<span id="cb32-3"><a href="objetos.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dados2)</span></code></pre></div>
<p>[1] “list”</p>
<p>Observe que sem o atributo class= ‘data.frame,’ o objeto tem classe list. Isto significa que, o objeto tem uma estrutura em forma de list, mas se comporta como um data.frame, que se apresenta como mostrado anteriormente.</p>
<p>Veremos no módulo Programação em R (Nível Intermediário) como criar atributos, classes, e mostrar que não conseguiremos mostrar todos os tipos de classes, pois a todo momento se cria classes em objetos R no desenvolvimento de pacotes.</p>
</div>
<div id="atributos-intrínsecos" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Atributos intrínsecos</h3>
<p>Todos os objetos tem dois atributos intrínsecos: o <strong>modo</strong> e <strong>comprimento</strong>. O <strong>modo</strong> representa a natureza dos elementos objetos. Para o caso dos vetores atômicos, o modo dos vetores podem ser cinco, numérico (numeric), lógico (logic), caractere 15 (character), complexo (complex) ou bruto (`raw``). Este último, não daremos evidência para esse momento. O <strong>comprimento</strong> mede a quantidade de elementos no objeto.</p>
<p>Para determinarmos o <strong>modo</strong> de um objeto, usamos a função mode(). Vejamos:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="objetos.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo caractere</span></span>
<span id="cb33-2"><a href="objetos.html#cb33-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Ben&quot;</span>; <span class="fu">mode</span>(x)</span></code></pre></div>
<p>[1] “character”</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="objetos.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo numerico</span></span>
<span id="cb34-2"><a href="objetos.html#cb34-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> 10L; <span class="fu">mode</span>(y)</span></code></pre></div>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="objetos.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo numerico</span></span>
<span id="cb35-2"><a href="objetos.html#cb35-2" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="dv">10</span>; <span class="fu">mode</span>(y2)</span></code></pre></div>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="objetos.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo logico</span></span>
<span id="cb36-2"><a href="objetos.html#cb36-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="cn">TRUE</span>; <span class="fu">mode</span>(z)</span></code></pre></div>
<p>[1] “logical”</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="objetos.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo complexo</span></span>
<span id="cb37-2"><a href="objetos.html#cb37-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> 1i; <span class="fu">mode</span>(w)</span></code></pre></div>
<p>[1] “complex”</p>
<p>Contudo, essa função mode() se baseou nos atributos baseados na linguagem S. Temos uma outra função para verificarmos o modo do objeto que é typeof(). O atributo <strong>modo</strong> retornado de um objeto para esta última função, está relacionado a tipagem de variáveis da linguagem C, uma vez que boa parte das rotinas no R está nessa linguagem, principalmente as funções do pacote base. Existem 25 tipos que serão detalhados no módulo Programação em R (Nível Intermedirário).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="objetos.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo caractere</span></span>
<span id="cb38-2"><a href="objetos.html#cb38-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Ben&quot;</span>; <span class="fu">typeof</span>(x)</span></code></pre></div>
<p>[1] “character”</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="objetos.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo numerico (Inteiro)</span></span>
<span id="cb39-2"><a href="objetos.html#cb39-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> 10L; <span class="fu">typeof</span>(y) </span></code></pre></div>
<p>[1] “integer”</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="objetos.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo numerico (Real)</span></span>
<span id="cb40-2"><a href="objetos.html#cb40-2" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="dv">10</span>; <span class="fu">typeof</span>(y2)</span></code></pre></div>
<p>[1] “double”</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="objetos.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo logico</span></span>
<span id="cb41-2"><a href="objetos.html#cb41-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="cn">TRUE</span>; <span class="fu">typeof</span>(z)</span></code></pre></div>
<p>[1] “logical”</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="objetos.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto modo complexo</span></span>
<span id="cb42-2"><a href="objetos.html#cb42-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> 1i; <span class="fu">typeof</span>(w)</span></code></pre></div>
<p>[1] “complex”</p>
<p>Observamos que apesar de alguns vetores serem vazios, estes ainda tem um modo, observe nas seguintes linhas de comando:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="objetos.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor numérico vazio de comprimento 1</span></span>
<span id="cb43-2"><a href="objetos.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">numeric</span>(<span class="dv">0</span>)</span></code></pre></div>
<p>numeric(0)</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="objetos.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando o seu modo</span></span>
<span id="cb44-2"><a href="objetos.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(<span class="fu">numeric</span>(<span class="dv">0</span>))</span></code></pre></div>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="objetos.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">numeric</span>(<span class="dv">0</span>))</span></code></pre></div>
<p>[1] “double”</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="objetos.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor caractere vazio de comprimento 1</span></span>
<span id="cb46-2"><a href="objetos.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">character</span>(<span class="dv">0</span>)</span></code></pre></div>
<p>character(0)</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="objetos.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando o seu modo</span></span>
<span id="cb47-2"><a href="objetos.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(<span class="fu">character</span>(<span class="dv">0</span>))</span></code></pre></div>
<p>[1] “character”</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="objetos.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">character</span>(<span class="dv">0</span>))</span></code></pre></div>
<p>[1] “character”</p>
<p>A diferença existente nos objetos y e y2 para as funções mode() e typeof() se referem apenas como o R armazena essas informações na memória do computador. Podemos perguntar ao R se dois números são iguais, assim:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="objetos.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 eh identico a 10L ?</span></span>
<span id="cb49-2"><a href="objetos.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="dv">10</span>, 10L)</span></code></pre></div>
<p>[1] FALSE</p>
<p>O retorno agora foi FALSE, que significa que o armazenamento dessas informações não são iguais. Posteriormente, entenderemos no que isso reflete no código usuário, uma vez que um código escrito pode uma perda de desempenho simplesmente pela não necessidade de determinados objetos ou cópias realizadas.</p>
<p>O termo double retornado pela função typeof() significa dupla precisão na linguagem de programação, que acaba tenho uma exigência de mais memória do que o objeto de modo integer. Esses termos são utilizados na linguagem C. Já a linguagem S não os diferencia, utiliza tudo como numeric.</p>
<p>Aqui vale um destaque para o termo numérico, que no R podem ter três significados:</p>
<ul>
<li>Pode significar um número real, isto é, para a computação um número de dupla precisão (numeric e double seriam iguais nesse aspecto). Veja linha de código:</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="objetos.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criacao de dois objetos de modo numerico</span></span>
<span id="cb50-2"><a href="objetos.html#cb50-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">1</span>); b <span class="ot">&lt;-</span> <span class="fu">double</span>(<span class="dv">1</span>)</span>
<span id="cb50-3"><a href="objetos.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando o modo</span></span>
<span id="cb50-4"><a href="objetos.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(a); <span class="fu">mode</span>(b)</span></code></pre></div>
<p>[1] “numeric”</p>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="objetos.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando se &#39;a&#39; e &#39;b&#39; sao identificos</span></span>
<span id="cb51-2"><a href="objetos.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(a, b)</span></code></pre></div>
<p>[1] TRUE</p>
<ul>
<li>nos sistemas S3 e S4 (orientação a objetos), o termo numérico é usado como atalho para o modo integer ou double. Esse ponto veremos no módulo Programação em R (Nível Básico). Contudo, veja a linha de código:</li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="objetos.html#cb52-1" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(<span class="dv">1</span>)</span></code></pre></div>
<p>[1] “double” “numeric”</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="objetos.html#cb53-1" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(1L)</span></code></pre></div>
<p>[1] “integer” “numeric”</p>
<ul>
<li>Pode ser utilizado (is.numeric()) para verificar se determinados objetos tem o modo numérico. Por exemplo, temos um objeto de classe factor que é importante para a área da estatística experimental, representando os níveis de um fator em um experimento. Os elementos desse objeto pode ser número ou caracteres, mas serão representados como sempre por números. Entretanto, não se comportam como numérico. Veja a linha de comando:</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="objetos.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um objeto de atributo classe &#39;factor&#39;:</span></span>
<span id="cb54-2"><a href="objetos.html#cb54-2" aria-hidden="true" tabindex="-1"></a>fator <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="st">&quot;a&quot;</span>); fator</span></code></pre></div>
<p>[1] a
Levels: a</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="objetos.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para confirmar essa afirmacao anterior, vejamos o modo</span></span>
<span id="cb55-2"><a href="objetos.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(fator)</span></code></pre></div>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="objetos.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(fator)</span></code></pre></div>
<p>[1] “integer”</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="objetos.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apesar do resultado retornar 1, veja que ele nao se comporta como numerico</span></span>
<span id="cb57-2"><a href="objetos.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(fator)</span></code></pre></div>
<p>[1] FALSE</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="objetos.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(fator)</span></code></pre></div>
<p>[1] FALSE</p>
<p>Uma tabela a seguir, mostra o retorno dos seis principais modos de um objeto do tipo (estrutura) de vetores atômicos (Os modos apresentados baseiam-se apenas quanto a característica dos dados do objeto. É claro que um objeto não armazena apenas dados. Existem outras naturezas, que serão omitidas nesse momento):</p>
<table>
<thead>
<tr class="header">
<th>typeof</th>
<th>mode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>logical</td>
<td>logical</td>
</tr>
<tr class="even">
<td>integer</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>double</td>
<td>numeric</td>
</tr>
<tr class="even">
<td>complex</td>
<td>complex</td>
</tr>
<tr class="odd">
<td>character</td>
<td>character</td>
</tr>
<tr class="even">
<td>raw</td>
<td>raw</td>
</tr>
</tbody>
</table>
<p>O <strong>comprimento</strong> do objeto é informado pela função lenght(), do qual a representação em diagrama informa esse atributo. Vejamos as linhas de comando a seguir.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="objetos.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor de comprimento 5</span></span>
<span id="cb59-2"><a href="objetos.html#cb59-2" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb59-3"><a href="objetos.html#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="objetos.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor de comprimento 3</span></span>
<span id="cb59-5"><a href="objetos.html#cb59-5" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ben&quot;</span>, <span class="st">&quot;Maria&quot;</span>, <span class="st">&quot;Lana&quot;</span>)</span>
<span id="cb59-6"><a href="objetos.html#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="objetos.html#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor de comprimento quatro</span></span>
<span id="cb59-8"><a href="objetos.html#cb59-8" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb59-9"><a href="objetos.html#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="objetos.html#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Vejamos o comprimento dos vetores</span></span>
<span id="cb59-11"><a href="objetos.html#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v1)</span></code></pre></div>
<p>[1] 5</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="objetos.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v2)</span></code></pre></div>
<p>[1] 3</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="objetos.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v3)</span></code></pre></div>
<p>[1] 4</p>
<p>Um diagrama apresentando esses três objetos no ambiente global, pode ser apresentado na Figura <a href="objetos.html#fig:DiagramaObjetos">4.4</a>. Observe que acrescentamos agora o <strong>comprimento</strong> dos objetos no diagrama entre colchetes, ao lado do atributo <strong>modo</strong>.</p>
<div class="figure" style="text-align: center"><span id="fig:DiagramaObjetos"></span>
<img src="img/Diagrama_Objetos.PNG" alt="Objetos v1, v2 e v3." width="100%" />
<p class="caption">
FIGURA 4.4: Objetos v1, v2 e v3.
</p>
</div>
<p>Um resumo as funções mensionadas podem ser refletidas com as seguintes indagações:</p>
<ul>
<li>base::class() e loop::c3_class(): Qual o tipo de objeto?</li>
<li>base::mode(): Qual o tipo de dados baseados na linguagem S?</li>
<li>base::typeof(): Qual o tipo de dados baseados na linguagem C?</li>
<li>base::attributes(): O objeto tem atributos?</li>
<li>base::length(): Qual o comprimento do objeto?</li>
</ul>
<p>Usamos essa sintaxe pacote::nome_função() para entedermos qual o pacote da função que utilizamos. Contudo, essa forma tem uma importância no sentido de acesso a funções em um pacote sem necessitar anexá-lo no caminho de busca. Assunto abordado mais a frente.</p>
</div>
</div>
<div id="coersão" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Coersão</h2>
<p>Como falamos anteriormente, os vetores atômicos armazenam um conjunto de elementos de mesmo modo. A coerção é a forma como o R coage o modo dos objetos. Por exemplo, se um elemento de modo caractere estiver em um vetor, todos os demais elementos serão convertidos para esse modo. Veja:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="objetos.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um objeto x e imprimindo o seu resultado</span></span>
<span id="cb62-2"><a href="objetos.html#cb62-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Nome&quot;</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>);x</span></code></pre></div>
<p>[1] “Nome” “3” “4” “5”</p>
<p>Observa que todos os elementos ganharam aspas, isto é, se tornaram um caractere ou uma cadeia de caracteres. A coersão entre vetores de modo numeric, character e logical será sempre assim:</p>
<p><img src="img/Coersao_Vetores.PNG" width="100%" style="display: block; margin: auto;" />
No caso dos vetores lógicos, todo TRUE se converterá em 1, e FALSE em 0. Porém, os modos dos vetores podem ser coagidos pelo usuário, usando as funções do tipo as.<modo ou tipo>() com prefixo as., isto é, se desejarmos que um objeto meu_objeto tenha o modo “character,” basta usar as.character(meu_objeto). Para desejar saber se um objeto é de um determinado modo, usamos as funções do tipo is.<modo ou tipo>(), com o prefixo is.. Vejamos,</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="objetos.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto de modo numerico</span></span>
<span id="cb63-2"><a href="objetos.html#cb63-2" aria-hidden="true" tabindex="-1"></a>minha_idade <span class="ot">&lt;-</span> <span class="dv">35</span></span>
<span id="cb63-3"><a href="objetos.html#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(minha_idade)</span></code></pre></div>
<p>[1] “numeric”</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="objetos.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coersão do objeto para modo caractere (`string`)</span></span>
<span id="cb64-2"><a href="objetos.html#cb64-2" aria-hidden="true" tabindex="-1"></a>minha_idade <span class="ot">&lt;-</span> <span class="fu">as.character</span>(minha_idade)</span>
<span id="cb64-3"><a href="objetos.html#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(minha_idade)</span></code></pre></div>
<p>[1] “character”</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="objetos.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando se o objeto tem modo &#39;character&#39;</span></span>
<span id="cb65-2"><a href="objetos.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(minha_idade)</span></code></pre></div>
<p>[1] TRUE</p>
</div>
<div id="tipo-de-objetos" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Tipo de objetos</h2>
<p>Por fim, pretendemos falar sobre os principais tipos de objetos. O <strong>tipo</strong> vamos entender como a estrutura de como os dados estão organizados em um objeto, relacionados aos seus atributos. Falamos anteriormente sobre a estrutura mais simples, que é o vetor atômico. Mas entendemos que um vetor em R podem ser considerados: atômicos ou listas. Podemos então subdividi-los em:</p>
<ul>
<li><p>Vetores atômicos:</p></li>
<li><p>Lógicos, Numéricos e Caracteres;</p></li>
<li><p>Matrizes unidimensionais (Matrix) e multidimensionais (Arrays);</p></li>
<li><p>Vetores em listas:</p></li>
<li><p>Listas (Lists);</p></li>
<li><p>Quadro de dados (Data frames);</p></li>
</ul>
<p>Existem outros, mas para esse módulo, exploraremos estes nas seções seguintes. As funções para as coersões realizadas pelos usuários, são similares as funções de coersão para modo, isto é, usar as funções prefixadas as.<tipo>.</p>
<p>Daremos uma visão geral dos objetos apresentados até o momento na Tabela a seguir.</p>
<table>
<colgroup>
<col width="30%" />
<col width="20%" />
<col width="30%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>Objeto</th>
<th>Classe</th>
<th>Modo</th>
<th>São possíveis vários modos no mesmo objeto?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vetor</td>
<td>logical</td>
<td>numeric (integer ou double), character, complex, logical, raw</td>
<td>Não</td>
</tr>
<tr class="even">
<td>Matriz</td>
<td>matrix</td>
<td>numeric (integer ou double), character, complex, logical, raw</td>
<td>Não</td>
</tr>
<tr class="odd">
<td>Array</td>
<td>array</td>
<td>numeric (integer ou double), character, complex, logical, raw</td>
<td>Não</td>
</tr>
<tr class="even">
<td>lista</td>
<td>list</td>
<td>numeric (integer ou double), character, complex, logical, raw, expression, function</td>
<td>Sim</td>
</tr>
<tr class="odd">
<td>Quadro de dados</td>
<td>data.frame</td>
<td>numeric (integer ou double), character, complex, logical, raw</td>
<td>Sim</td>
</tr>
</tbody>
</table>
<div id="vetores" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Vetores</h3>
<p>Podemos dizer que existem três tipos principais de vetores atômicos:</p>
<ul>
<li>Numéricos (numeric):
<ul>
<li>Inteiro (integer);</li>
<li>Real (double);</li>
</ul></li>
<li>Lógico (logical);</li>
<li>Caractere (character)</li>
</ul>
<p>Existem dois tipos raros que são os complexos (complex) e brutos (raw), que falaremos no módulo seguinte.</p>
<div id="vetores-escalares" class="section level4" number="4.3.1.1">
<h4><span class="header-section-number">4.3.1.1</span> Vetores escalares</h4>
<p>O menor comprimento de um vetor é de tamanho um, conhecido também como um escalar. Porém, para o R tudo é observado como um vetor. As sintaxes para os tipos especiais são: - os vetores lógicos assumem valores: TRUE ou FALSE, ou abreviados, T ou F, respectivamente. Existem valores especiais devido a precisão de operações na programação, que são os chamados pontos flutuantes. Nesse caso temos: Inf, -Inf e NaN, quando o resultados tende a <span class="math inline">\(\infty\)</span>, <span class="math inline">\(-\infty\)</span>, sem número, respectivamente;</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="objetos.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># divisao de um numero por zero (+ infinito)</span></span>
<span id="cb66-2"><a href="objetos.html#cb66-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="sc">/</span> <span class="dv">0</span>; x</span></code></pre></div>
<p>[1] Inf</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="objetos.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># divisao de um numero por zero (- infinito)</span></span>
<span id="cb67-2"><a href="objetos.html#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="dv">50</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<p>[1] -Inf</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="objetos.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Resultado sem número do tipo NaN</span></span>
<span id="cb68-2"><a href="objetos.html#cb68-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> x</span></code></pre></div>
<p>[1] NaN</p>
<ul>
<li>os vetores numéricos do tipo double podem ser representados de forma decima (0.123), científica (1.23e5), ou hexadecimal (3E0A);</li>
<li>os vetores numéricos do tipo integer são representados pela letra L ao final do número inteiro, isto é, 1L, 1.23e5L, etc.;</li>
<li>os caracteres são representados pelas palavras, letras, números ou caracteres especiais entre aspas, isto é, “Ben,” “a.” Pode ser utilizado também aspa simples, ‘Ben,’ ‘a,’ etc.</li>
</ul>
</div>
<div id="vetores-longos" class="section level4" number="4.3.1.2">
<h4><span class="header-section-number">4.3.1.2</span> Vetores longos</h4>
<p>Os vetores longos podem ser criados pela função c() a incial da palavra concatenar, que significa agrupar. Vejamos alguns exemplos:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="objetos.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor &#39;double&#39;</span></span>
<span id="cb69-2"><a href="objetos.html#cb69-2" aria-hidden="true" tabindex="-1"></a>vetor.num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>); vetor.num</span></code></pre></div>
<p>[1] 1 2 3 4 5</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="objetos.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(vetor.num)</span></code></pre></div>
<p>[1] “double”</p>
<p>Uma coisa interessante é que por padrão, a função c() sempre cria um vetor de modo double, a menos que o usuário determine que estes elementos sejam inteiros, isto é,</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="objetos.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor &#39;integer&#39;</span></span>
<span id="cb71-2"><a href="objetos.html#cb71-2" aria-hidden="true" tabindex="-1"></a>vetor.num2 <span class="ot">&lt;-</span> <span class="fu">c</span>(1L, 2L, 3L, 4L, 5L); vetor.num; <span class="fu">typeof</span>(vetor.num2)</span></code></pre></div>
<p>[1] 1 2 3 4 5</p>
<p>[1] “integer”</p>
<p>Uma forma mais eficiente para criarmos um vetor com elementos de sequências regulares, é por meio da função primitiva (:), isto é, <menor valor da sequência>:<maior valor da sequência>. Vejamos:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="objetos.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma sequência de 1 a 5</span></span>
<span id="cb72-2"><a href="objetos.html#cb72-2" aria-hidden="true" tabindex="-1"></a>vetor.num3 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>; vetor.num3; <span class="fu">typeof</span>(vetor.num3)</span></code></pre></div>
<p>[1] 1 2 3 4 5</p>
<p>[1] “integer”</p>
<p>Veremos mais a frente outras funções para construir sequências regulares. Se verificarmos os três objetos, veremos que todos eles são iguais:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="objetos.html#cb73-1" aria-hidden="true" tabindex="-1"></a>vetor.num <span class="sc">==</span> vetor.num2</span></code></pre></div>
<p>[1] TRUE TRUE TRUE TRUE TRUE</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="objetos.html#cb74-1" aria-hidden="true" tabindex="-1"></a>vetor.num <span class="sc">==</span> vetor.num3</span></code></pre></div>
<p>[1] TRUE TRUE TRUE TRUE TRUE</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="objetos.html#cb75-1" aria-hidden="true" tabindex="-1"></a>Vetor.num2 <span class="sc">==</span> vetor.num3</span></code></pre></div>
<p>[1] TRUE TRUE TRUE TRUE TRUE</p>
<p>O que vai difenrenciá-los é a forma de armazená-lo (double ou integer), e por consequência, o espaço na memória ativa. Veja:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="objetos.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objetos:</span></span>
<span id="cb76-2"><a href="objetos.html#cb76-2" aria-hidden="true" tabindex="-1"></a>vetor.num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb76-3"><a href="objetos.html#cb76-3" aria-hidden="true" tabindex="-1"></a>vetor.num2 <span class="ot">&lt;-</span> <span class="fu">c</span>(1L, 2L, 3L, 4L, 5L)</span>
<span id="cb76-4"><a href="objetos.html#cb76-4" aria-hidden="true" tabindex="-1"></a>vetor.num3 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb76-5"><a href="objetos.html#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Memoria:</span></span>
<span id="cb76-6"><a href="objetos.html#cb76-6" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(vetor.num)</span></code></pre></div>
<p>96 B</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="objetos.html#cb77-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(vetor.num2)</span></code></pre></div>
<p>80 B</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="objetos.html#cb78-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(vetor.num3)</span></code></pre></div>
<p>680 B</p>
<p>O que podemos observar é que o vetor de modo double precisa de mais memória do que o objeto de modo integer. O último objeto aparentemente ocupou mais memória. Contudo, essa função apresenta um recurso interessante apresentado nas versões posteriores R (3.5.0), que é chamado de abreviação alternativa. Esse recurso faz com que a sequência de números não seja armazenada completamente, apenas os extremos. Isso significa que para qualquer tamanho de sequência, a ocupação de memória do objeto será sempre a mesma. Outras formas de criar sequência de números é usando as funções rep() e seq(), do qual a ajuda pode ser realizada usando no console ?rep() e ?seq(), respectivamente.</p>
<p>Dessa forma, poderemos ter com o último objeto (vetor.num3) uma economia de memória, dependendo do tamanho do seu vetor, quando se compara com as outras opções. Veja:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="objetos.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tamanho de memoria dos objetos</span></span>
<span id="cb79-2"><a href="objetos.html#cb79-2" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<p>680 B</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="objetos.html#cb80-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>)</span></code></pre></div>
<p>680 B</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="objetos.html#cb81-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000000</span>)</span></code></pre></div>
<p>680 B</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="objetos.html#cb82-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>))</span></code></pre></div>
<p>96 B</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="objetos.html#cb83-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>))</span></code></pre></div>
<p>40,048 B</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="objetos.html#cb84-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000000</span>))</span></code></pre></div>
<p>4,000,048 B</p>
</div>
<div id="manipulando-vetores" class="section level4" number="4.3.1.3">
<h4><span class="header-section-number">4.3.1.3</span> Manipulando vetores</h4>
<p>Quando algum elemento de um vetor não está disponível, representamos pela constante lógica NA, que pode ser coagida para qualquer outro modo de vetor, exceto para raw. Podemos ter constantes lógicas NA específicas para modos específicos: NA_integer_, NA_real_ (o equivalente para o modo double), NA_complex_ e NA_character_. Entretando, dependendo de onde o NA é inserido, o atributo modo no objeto já converte para NA específico de acordo com o seu atributo modo. Essa constante contido no vetor não altera o modo do vetor, isto é,</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="objetos.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>))</span></code></pre></div>
<p>[1] “double”</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="objetos.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>))</span></code></pre></div>
<p>[1] “double”</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="objetos.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="cn">NA</span>))</span></code></pre></div>
<p>[1] “character”</p>
<p>Podemos criar vetores atômicos iniciais sem nenhuma elemento, por meio das funções numeric(0), character(0) e logical(0), isto é,</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="objetos.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor numerico de comprimento 0</span></span>
<span id="cb88-2"><a href="objetos.html#cb88-2" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">0</span>); <span class="fu">length</span>(v1)</span></code></pre></div>
<p>[1] 0</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="objetos.html#cb89-1" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>); <span class="fu">length</span>(v2)</span></code></pre></div>
<p>[1] 0</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="objetos.html#cb90-1" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">logical</span>(<span class="dv">0</span>); <span class="fu">length</span>(v2)</span></code></pre></div>
<p>[1] 0</p>
<p>Para inserirmos valores a esses vetores usamos o sistema de indexação, que no caso da linguagem R, o contador começa a partir do número 1. Vejamos,</p>
<p>[1] 0</p>
<p>[1] 0</p>
<p>[1] 0</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="objetos.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor numerico de comprimento 0</span></span>
<span id="cb91-2"><a href="objetos.html#cb91-2" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">0</span>)</span>
<span id="cb91-3"><a href="objetos.html#cb91-3" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>)</span>
<span id="cb91-4"><a href="objetos.html#cb91-4" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">logical</span>(<span class="dv">0</span>)</span>
<span id="cb91-5"><a href="objetos.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Inserimos 3 elementos em v1 e depois imprimos o seu resultado</span></span>
<span id="cb91-6"><a href="objetos.html#cb91-6" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span>; v1[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">3</span>; v1[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">10</span>; v1; <span class="fu">length</span>(v1)</span></code></pre></div>
<p>[1] 5 3 10</p>
<p>[1] 3</p>
<p>Assim, como exercício vocês podem completar para os dois outros vetores. Uma vez criado o vetor, se desejarmos acessar os seus elementos, usamos também o sistema de indexação:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="objetos.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor numerico de comprimento 0</span></span>
<span id="cb92-2"><a href="objetos.html#cb92-2" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">0</span>)</span>
<span id="cb92-3"><a href="objetos.html#cb92-3" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">0</span>)</span>
<span id="cb92-4"><a href="objetos.html#cb92-4" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">logical</span>(<span class="dv">0</span>)</span>
<span id="cb92-5"><a href="objetos.html#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="objetos.html#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Inserimos 3 elementos em v1 e depois imprimos o seu resultado</span></span>
<span id="cb92-7"><a href="objetos.html#cb92-7" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span>; v1[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">3</span>; v1[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb92-8"><a href="objetos.html#cb92-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-9"><a href="objetos.html#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo apenas o primeiro valor</span></span>
<span id="cb92-10"><a href="objetos.html#cb92-10" aria-hidden="true" tabindex="-1"></a>v1[<span class="dv">1</span>]</span></code></pre></div>
<p>[1] 5</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="objetos.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo todos</span></span>
<span id="cb93-2"><a href="objetos.html#cb93-2" aria-hidden="true" tabindex="-1"></a>v1</span></code></pre></div>
<p>[1] 5 3 10</p>
<div id="aritmética-e-outras-operações" class="section level5" number="4.3.1.3.1">
<h5><span class="header-section-number">4.3.1.3.1</span> Aritmética e outras operações</h5>
<p>As operações com vetores não necessariamente são as operações realizadas baseadas na álgebra de matrizes. O que a linguagem R faz é realizar as operações elemento a elemento, mantendo o comprimento de tamanho igual ao tamanho do maior vetor na operação. Vejamos as operações aritméticas entre vetores de tamanho 1:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="objetos.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Soma de dois vetores</span></span>
<span id="cb94-2"><a href="objetos.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span></span></code></pre></div>
<p>[1] 5</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="objetos.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exceto pela sintaxe, &#39;+&#39; eh uma chamada de funcao</span></span>
<span id="cb95-2"><a href="objetos.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] 5</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="objetos.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtracao de dois vetores</span></span>
<span id="cb96-2"><a href="objetos.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">-</span> <span class="dv">2</span></span></code></pre></div>
<p>[1] 1</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="objetos.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exceto pela sintaxe, &#39;-&#39; eh uma chamada de funcao</span></span>
<span id="cb97-2"><a href="objetos.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">-</span><span class="st">`</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>[1] 1</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="objetos.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplicacao de dois vetores</span></span>
<span id="cb98-2"><a href="objetos.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<p>[1] 6</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="objetos.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exceto pela sintaxe, &#39;*&#39; eh uma chamada de funcao</span></span>
<span id="cb99-2"><a href="objetos.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>[1] 6</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="objetos.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Divisao de dois vetores</span></span>
<span id="cb100-2"><a href="objetos.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<p>[1] 1.5</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="objetos.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exceto pela sintaxe, &#39;/&#39; eh uma chamada de funcao</span></span>
<span id="cb101-2"><a href="objetos.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">/</span><span class="st">`</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>[1] 1.5</p>
<p>Essas mesmas operações podem ser realizadas elemento a elemento para vetores de comprimento maior que 1, observe:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="objetos.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Soma de vetores</span></span>
<span id="cb102-2"><a href="objetos.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] 5 7 9</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="objetos.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtracao de  vetores</span></span>
<span id="cb103-2"><a href="objetos.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] 5 7 9</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="objetos.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplicacao dois vetores</span></span>
<span id="cb104-2"><a href="objetos.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] 4 10 18</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="objetos.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Divisao de dois vetores</span></span>
<span id="cb105-2"><a href="objetos.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="sc">/</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] 4.0 2.5 2.0</p>
<p>Quando os vetores não têm mesmo comprimento, o R completará de forma sequencial o menor vetor até que ele atinja o tamanho do maior vetor, observe:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="objetos.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Soma de vetores de comprimento diferente</span></span>
<span id="cb106-2"><a href="objetos.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">+</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">10</span></span></code></pre></div>
<p>[1] 4 6 8 10 12 14 16 18 12 14</p>
<p>O segundo vetor recebeu os elementos 3, 4, 5, isto é, os três primeiros elementos do vetor, para que o seu comprimento se tornasse igual ao comprimento do primeiro vetor. Após isso, foi realizado a soma elemento a elemento. Esse provedimento ocorre com os demais tipos de operações.</p>
<p>Demais operações podem ser realizadas de acordo com as funções apresentadas na Tabela abaixo.</p>
<table>
<colgroup>
<col width="64%" />
<col width="35%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Função (Ou operador)</th>
<th>Finalidade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">+</td>
<td>Soma unária, por exemplo (+ 4), ou binária entre dois vetores</td>
</tr>
<tr class="even">
<td align="center">-</td>
<td>Subtração unária, por exemplo (- 3), ou binária entre dois vetores</td>
</tr>
<tr class="odd">
<td align="center">*</td>
<td>Multiplicação entre dois vetores</td>
</tr>
<tr class="even">
<td align="center">/</td>
<td>Divisão entre dois vetores</td>
</tr>
<tr class="odd">
<td align="center">^ ou **</td>
<td>Exponenciação binária, isto é 2^3 ou 2 ** 3</td>
</tr>
<tr class="even">
<td align="center">%/%</td>
<td>Divisão inteira</td>
</tr>
<tr class="odd">
<td align="center">%%</td>
<td>Restante da divisão</td>
</tr>
<tr class="even">
<td align="center">sum()</td>
<td>Soma de elementos do vetor</td>
</tr>
<tr class="odd">
<td align="center">prod()</td>
<td>Produtório dos elementos do vetor</td>
</tr>
<tr class="even">
<td align="center">sqrt()</td>
<td>Raiz quadrada dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td align="center">log()</td>
<td>Função Logaritmo neperiano</td>
</tr>
<tr class="even">
<td align="center">log10()</td>
<td>Função Logaritmo na base 10</td>
</tr>
<tr class="odd">
<td align="center">exp()</td>
<td>Função exponencial</td>
</tr>
<tr class="even">
<td align="center">mean()</td>
<td>Média dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td align="center">sd()</td>
<td>Desvio padrão dos elementos de um vetor</td>
</tr>
<tr class="even">
<td align="center">var()</td>
<td>Variância dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td align="center">median()</td>
<td>Mediana dos elementos de um vetor</td>
</tr>
<tr class="even">
<td align="center">round()</td>
<td>Arredondamento de vetor numérico. Outros tipos são: trunc(), floor() e ceiling().</td>
</tr>
</tbody>
</table>
<p>Demais funções podem ser procuradas no manual An Introduction to R, ou execute no console ?Arithmetic.</p>
</div>
<div id="operadores-lógicos" class="section level5" number="4.3.1.3.2">
<h5><span class="header-section-number">4.3.1.3.2</span> Operadores lógicos</h5>
<p>Os operadores lógicos têm a função de avaliar determinada condição e retornar TRUE/FALSE. São eles:</p>
<table>
<thead>
<tr class="header">
<th align="center">Operador Lógico</th>
<th>Sintaxe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(&lt;\)</span></td>
<td>a &lt; b</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(&gt;\)</span></td>
<td>a &gt; b</td>
</tr>
<tr class="odd">
<td align="center">==</td>
<td>a == b</td>
</tr>
<tr class="even">
<td align="center">!=</td>
<td>a != b</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(&gt;=\)</span></td>
<td>a &gt;= b</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(&lt;=\)</span></td>
<td>a &lt;= b</td>
</tr>
<tr class="odd">
<td align="center">%in%</td>
<td>“a” %in% c(“a,” “b,” “c”)</td>
</tr>
</tbody>
</table>
<p>A operação binária significa que a função exige dois argumentos (ou operandos), isto é, &lt;Argumento 1&gt; <Operador> &lt;Argumento 2&gt;. Para mais detalhes, use no console ?Syntax.</p>
<p>Vejamos alguns exemplos:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="objetos.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;&gt;&#39; entre vetores de comprimento 1</span></span>
<span id="cb107-2"><a href="objetos.html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">3</span></span></code></pre></div>
<p>[1] FALSE</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="objetos.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;&lt;&#39; com vetor de comprimento maior que 1</span></span>
<span id="cb108-2"><a href="objetos.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&lt;</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[1] FALSE FALSE TRUE</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="objetos.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;==&#39; entre vetores</span></span>
<span id="cb109-2"><a href="objetos.html#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>[1] FALSE TRUE FALSE</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="objetos.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;%in%&#39; verificando se os elementos do primeiro vetor</span></span>
<span id="cb110-2"><a href="objetos.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="co"># estao no segundo vetor</span></span>
<span id="cb110-3"><a href="objetos.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>[1] FALSE</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="objetos.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;%in%&#39; verificando se os elementos do primeiro vetor</span></span>
<span id="cb111-2"><a href="objetos.html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="co"># estao no segundo vetor</span></span>
<span id="cb111-3"><a href="objetos.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>[1] FALSE FALSE</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="objetos.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;%in%&#39; verificando se os elementos do primeiro vetor</span></span>
<span id="cb112-2"><a href="objetos.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co"># estao no segundo vetor</span></span>
<span id="cb112-3"><a href="objetos.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>[1] FALSE FALSE TRUE</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="objetos.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operador &#39;%in%&#39; verificando se os elementos do primeiro vetor</span></span>
<span id="cb113-2"><a href="objetos.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="co"># estao no segundo vetor</span></span>
<span id="cb113-3"><a href="objetos.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>[1] FALSE FALSE TRUE TRUE</p>
<p>O que é interessante nesse operador %in%, que na realidade é uma função com dois argumentos, constitui uma forma de criar operadores binários especiais do tipo %<nome_sintatico>%, que esse tipo de função é uma das mais conhecidas hoje na análise de dados usando o operador pipe (%&gt;%) do pacote magrittr da família de pacotes Tidyverse. A diferença no operador pipe é que o segundo operando (Argumento 2) é uma função que recebe no primeiro argumento o operando 1 (Argumento 1). Por fim, o operador %&gt;% acaba sendo um operado unário. Veremos mais detalhes na seção sobre criação de funções.</p>
</div>
<div id="operadores-booleanos" class="section level5" number="4.3.1.3.3">
<h5><span class="header-section-number">4.3.1.3.3</span> Operadores Booleanos</h5>
<p>O operadores booleanos avaliam diversas operações lógicas (condições) para ao final retornar um TRUE/FALSE. Vejamos a Tabela a seguir, com esses operadores e suas indagações.</p>
<table>
<thead>
<tr class="header">
<th align="center">Operador Booleano (ou Função)</th>
<th>Sintaxe</th>
<th>Pergunta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">&amp; ou &amp;&amp;</td>
<td>cond1 &amp; cond2</td>
<td>As cond1 e cond2 são verdadeiras?</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(| ou ||\)</span></td>
<td><span class="math inline">\(cond1 | cond2\)</span></td>
<td>A cond1 ou cond2 é verdadeira?</td>
</tr>
<tr class="odd">
<td align="center">xor()</td>
<td>xor(cond1, cond2)</td>
<td>Apenas a cond1 ou a cond2 é verdadeiro?</td>
</tr>
<tr class="even">
<td align="center">!</td>
<td>!cond1</td>
<td>É falso a cond1 ?</td>
</tr>
<tr class="odd">
<td align="center">any()</td>
<td>any(cond1, cond2, …)</td>
<td>Alguma das condições são verdadeiras?</td>
</tr>
<tr class="even">
<td align="center">all()</td>
<td>all(cond1, cond2, …)</td>
<td>Todas as condições são verdadeiras?</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="objetos.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando objetos</span></span>
<span id="cb114-2"><a href="objetos.html#cb114-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb114-3"><a href="objetos.html#cb114-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb114-4"><a href="objetos.html#cb114-4" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb114-5"><a href="objetos.html#cb114-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-6"><a href="objetos.html#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Primeira condicao</span></span>
<span id="cb114-7"><a href="objetos.html#cb114-7" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> y</span></code></pre></div>
<p>[1] TRUE TRUE TRUE</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="objetos.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Segunda condicao</span></span>
<span id="cb115-2"><a href="objetos.html#cb115-2" aria-hidden="true" tabindex="-1"></a>y <span class="sc">==</span> z</span></code></pre></div>
<p>[1] TRUE TRUE FALSE</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="objetos.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Terceira condicao</span></span>
<span id="cb116-2"><a href="objetos.html#cb116-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> y <span class="sc">&amp;</span> y <span class="sc">==</span> z</span></code></pre></div>
<p>[1] TRUE TRUE FALSE</p>
<p>Fica como sugestão de exercício os leitores criarem condições para os demais operadores booleanos.</p>
</div>
</div>
</div>
<div id="matrizes-bidimensionais" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Matrizes bidimensionais</h3>
<p>A apresentação dos próximos objetos daqui pra frente, desde matrizes até quadro de dados (data frame) não é apresentar todas as manipulações possíveis sobre esses objetos. Mas mostrar a sua estrutura e condições básicas imposta sobre eles. Assim, não apresentaremos funções para manipulações com matrizes, por exemplo, porque isso não é o propósito do curso. Daremos a ideia de uma matriz é na realidade um vetor bidimensional, assim como um quadro de dados que na realidade é uma lista.</p>
<p>Quando usamos um atributo chamado dim em um vetor atômico, criamos na realidade vetores bi ou multidimencionais, isto é, objetos do tipo matrizes ou arrays. Observe o que falados anteriormente, o atributo pode mudar a estrutura do objeto</p>
<p>Vejamos alguns exemplos:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="objetos.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor atomico</span></span>
<span id="cb117-2"><a href="objetos.html#cb117-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>; x</span></code></pre></div>
<p>[1] 1 2 3 4 5 6</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="objetos.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando se o objeto &#39;x&#39; tem atributo adicionado</span></span>
<span id="cb118-2"><a href="objetos.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span></code></pre></div>
<p>NULL</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="objetos.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos verificar a classe do objeto x</span></span>
<span id="cb119-2"><a href="objetos.html#cb119-2" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(x)</span></code></pre></div>
<p>[1] “integer” “numeric”</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="objetos.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adicionando o atributo dim</span></span>
<span id="cb120-2"><a href="objetos.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>) <span class="co"># 2 x 3 = 6 (Comp do vetor)</span></span>
<span id="cb120-3"><a href="objetos.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="co"># attr(x, &quot;dim&quot;) &lt;- c(2, 3)</span></span>
<span id="cb120-4"><a href="objetos.html#cb120-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-5"><a href="objetos.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Observando agora o comportamento do objeto &#39;x&#39;</span></span>
<span id="cb120-6"><a href="objetos.html#cb120-6" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 1 3 5
[2,] 2 4 6</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="objetos.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando novamente se &#39;x&#39; tem atributo</span></span>
<span id="cb122-2"><a href="objetos.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span></code></pre></div>
<p>$dim
[1] 2 3</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="objetos.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando a classe do objeto</span></span>
<span id="cb123-2"><a href="objetos.html#cb123-2" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(x)</span></code></pre></div>
<p>[1] “matrix” “integer” “numeric”</p>
<p>O atributo dim recebeu uma informação bidimensional, isto é, o número de linhas e colunas, respectivamente. Uma outra forma para construir uma matriz é usando a função matrix, que de modo similar, temos:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="objetos.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma matriz</span></span>
<span id="cb124-2"><a href="objetos.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<p>[,1] [,2] [,3]
[1,] 1 3 5
[2,] 2 4 6</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="objetos.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma matriz</span></span>
<span id="cb125-2"><a href="objetos.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>[,1] [,2] [,3]</code></pre>
<p>[1,] 1 2 3
[2,] 4 5 6</p>
<p>Se desejássemos que os números fossem inserido em linhas e não iniciados pelas colunas, usaríamos o argumento byrow = TRUE, isto é,</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="objetos.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma matriz</span></span>
<span id="cb127-2"><a href="objetos.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 1 2 3
[2,] 4 5 6</p>
<p>Para acessarmos ou alterarmos os elementos de uma matriz, usamos o sistema de indexação similar ao vetor, porém, devemos indexar as linhas e colunas. Por exemplo, o elemento da primeira linha e primeira coluna pode ser obtido por x[1, 1], e assim por diante. Todos os elementos da linha 1, x[1,], ou todos os elementos da coluna 1, x[,1].</p>
</div>
<div id="matrizes-multidimensionais" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Matrizes multidimensionais</h3>
<p>A ideia do objeto matriz multidimencional (ou array) é similar ao da matriz, a diferença é que agora é um vetor atômico de mais de duas dimensões. Vejamos,</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="objetos.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um vetor atomico</span></span>
<span id="cb129-2"><a href="objetos.html#cb129-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>; x</span></code></pre></div>
<p>[1] 1 2 3 4 5 6 7 8 9 10 11 12</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="objetos.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando se o objeto &#39;x&#39; tem atributo adicionado</span></span>
<span id="cb130-2"><a href="objetos.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span></code></pre></div>
<p>NULL</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="objetos.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos verificar a classe do objeto x</span></span>
<span id="cb131-2"><a href="objetos.html#cb131-2" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(x)</span></code></pre></div>
<p>[1] “integer” “numeric”</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="objetos.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adicionando o atributo dim</span></span>
<span id="cb132-2"><a href="objetos.html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>) <span class="co"># 2 x 3 x 2 = 12 (Comp do vetor x)</span></span>
<span id="cb132-3"><a href="objetos.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># attr(x, &quot;dim&quot;) &lt;- c(2, 3, 2)</span></span>
<span id="cb132-4"><a href="objetos.html#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5"><a href="objetos.html#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Observando agora o comportamento do objeto &#39;x&#39;</span></span>
<span id="cb132-6"><a href="objetos.html#cb132-6" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<p>, , 1</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 1 3 5
[2,] 2 4 6</p>
<p>, , 2</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 7 9 11
[2,] 8 10 12</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="objetos.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando novamente se &#39;x&#39; tem atributo</span></span>
<span id="cb135-2"><a href="objetos.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)</span></code></pre></div>
<p>$dim
[1] 2 3 2</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="objetos.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando a classe do objeto</span></span>
<span id="cb136-2"><a href="objetos.html#cb136-2" aria-hidden="true" tabindex="-1"></a>sloop<span class="sc">::</span><span class="fu">s3_class</span>(x)</span></code></pre></div>
<p>[1] “array” “integer” “numeric”</p>
<p>Observe que criamos duas matrizes de dimensão (2 x 3). Para acessar os elementos desse objeto, usaremos também o sistema de indexação, agora acrescentando a terceira dimensão. Por exemplo, para acessar o elemento da linha 1, coluna 1, matriz 1, temos x[1, 1, 1], ou todos os elementos da linha 1, matriz 1, temos x[1, , 1].</p>
<p>Uma outra forma de criar um objeto array é usar a função array(). De modo similar, temos:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="objetos.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um array</span></span>
<span id="cb137-2"><a href="objetos.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>))</span></code></pre></div>
<p>, , 1</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 1 3 5
[2,] 2 4 6</p>
<p>, , 2</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 7 9 11
[2,] 8 10 12</p>
<p>Um exercício para os leitores seria, como poderíamos criar um array de 4 dimensões?</p>
<p>Mostramos um quadro resumo de funções que podem ser utilizadas (Wickham (2019)). Para auxílio nas funções, use sempre o símbolo de interrogação antes das funções e execute no console. Por exemplo, ajuda da função names(), use ?names().</p>
<table>
<thead>
<tr class="header">
<th align="center">Vetor</th>
<th>Matriz</th>
<th>Array</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">names()</td>
<td>rownames(), colnames()</td>
<td>dimnames()</td>
</tr>
<tr class="even">
<td align="center">length()</td>
<td>nrow(), ncol()</td>
<td>dim()</td>
</tr>
<tr class="odd">
<td align="center">c()</td>
<td>rbind(), cbind()</td>
<td>abind::abind()</td>
</tr>
<tr class="even">
<td align="center">-</td>
<td>t()</td>
<td>aperm()</td>
</tr>
<tr class="odd">
<td align="center">is.null(dim(x))</td>
<td>is.matrix()</td>
<td>is.array</td>
</tr>
</tbody>
</table>
</div>
<div id="listas" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Listas</h3>
<p>As listas são como vetores atômicos, porém mais complexos, isto é, os elementos de uma lista são vetores atômicos, como também outras listas, funções, expressões. Esta última é o que chamamos de objetos recursivos. A forma de se obter uma lista é pela função list(). Vejamos os comandos a seguir.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="objetos.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma lista</span></span>
<span id="cb140-2"><a href="objetos.html#cb140-2" aria-hidden="true" tabindex="-1"></a>l0 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, letters[<span class="dv">5</span>], <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb140-3"><a href="objetos.html#cb140-3" aria-hidden="true" tabindex="-1"></a>           mean, <span class="fu">expression</span>(x <span class="sc">~</span> y))</span>
<span id="cb140-4"><a href="objetos.html#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo a lista</span></span>
<span id="cb140-5"><a href="objetos.html#cb140-5" aria-hidden="true" tabindex="-1"></a>l0</span></code></pre></div>
<p>[[1]]
[1] 1 2 3</p>
<p>[[2]]
[1] “e”</p>
<p>[[3]]
[[3]][[1]]
[1] 1</p>
<p>[[3]][[2]]
[1] 2</p>
<p>[[3]][[3]]
[1] 3</p>
<p>[[4]]
function (x, …)
UseMethod(“mean”)
&lt;bytecode: 0x0000000008b8d3d8&gt;
&lt;environment: namespace:base&gt;</p>
<p>[[5]]
expression(x ~ y)</p>
<p>Podemos acessar ou alterar os elementos de uma lista por meio do operador $, ou pelo sistema de indexação, que diferencia um pouco da indexação dos vetores. Por exemplo, o primeiro elemento desse vetor pode ser acessado por l0[[1]], o terceiro l0[[3]], e assim por diante. Para acessar informações específicas dentro dos elementos, usamos l0[[3]][2], isto é, imprimimos o segundo valor do segundo elemento. Os elementos de um lista são na realidade outros objetos, do qual conseguimos acessar também os elementos desses objetos.</p>
<p>Quando nominamos os objetos contidos nas listas, podemos utilizar o operador $, para acessar esses objetos. Vejamos,</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="objetos.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando uma lista</span></span>
<span id="cb141-2"><a href="objetos.html#cb141-2" aria-hidden="true" tabindex="-1"></a>l0 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">l01 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb141-3"><a href="objetos.html#cb141-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">l02 =</span> letters[<span class="dv">5</span>], </span>
<span id="cb141-4"><a href="objetos.html#cb141-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">l03 =</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb141-5"><a href="objetos.html#cb141-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">l04 =</span> mean, </span>
<span id="cb141-6"><a href="objetos.html#cb141-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">l05 =</span> <span class="fu">expression</span>(x <span class="sc">~</span> y))</span>
<span id="cb141-7"><a href="objetos.html#cb141-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo o primeiro elemento (objeto) da lista &#39;l0&#39;</span></span>
<span id="cb141-8"><a href="objetos.html#cb141-8" aria-hidden="true" tabindex="-1"></a>l0<span class="sc">$</span>l01</span></code></pre></div>
<p>[1] 1 2 3</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="objetos.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo o segundo</span></span>
<span id="cb142-2"><a href="objetos.html#cb142-2" aria-hidden="true" tabindex="-1"></a>l0<span class="sc">$</span>l02</span></code></pre></div>
<p>[1] “e”</p>
<p>As listas têm importâncias diversas dentro da linhagem R, por exemplo, o atributo em um objeto é armazenado em forma de lista. A coerção sempre força um vetor atômico a uma lista. Vejamos as linhas de comando a seguir.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="objetos.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vejamos as linhas de comando</span></span>
<span id="cb143-2"><a href="objetos.html#cb143-2" aria-hidden="true" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb143-3"><a href="objetos.html#cb143-3" aria-hidden="true" tabindex="-1"></a>l2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb143-4"><a href="objetos.html#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vejamos as suas estruturas</span></span>
<span id="cb143-5"><a href="objetos.html#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(l1)</span></code></pre></div>
<p>str(l2)</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="objetos.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo o segundo</span></span>
<span id="cb144-2"><a href="objetos.html#cb144-2" aria-hidden="true" tabindex="-1"></a>l0<span class="sc">$</span>l02</span></code></pre></div>
<p>List of 4
$ : num 1
$ : num 2
$ : num 3
$ : num 4</p>
<p>Observamos no objeto l1, temos uma lista cujos elementos são outra lista, o elemento 3 e o elemento 4. O vetor c(3, 4) se transformou em dois elementos de l1. No objeto l2, poderíamos pensar que como a lista está dentro da função c(), os elementos da lista fariam parte dos elementos de um vetor. Porém isso não ocorre. O que temos é uma coerção em que a lista força ao vetor a se tornar lista. Por fim, temos em l2 quatro elementos em uma lista.</p>
</div>
<div id="quadro-de-dados" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Quadro de dados</h3>
<p>O objeto quadro de dados (Data frame) é uma lista com classe data.frame, em que contém dois atributos. Porém, com algumas restrições:</p>
<ul>
<li><p>Os componentes devem ser vetores uni ou multidimencionais, listas ou até mesmo quadro de dados;</p></li>
<li><p>As colunas das matrizes, listas ou quadro de dados são inseridas como colunas do quadro de dados;</p></li>
<li><p>A partir da versão R (4.0.0), os vetores terão mesmo modo no quadro de dados. Antes os vetores em modo caractere eram convertidos em objeto do tipo fator. Para convertê-lo automaticamente use o argumento stringsAsFactors = TRUE. Por sugestão, prefira a mudança usando a função factor(), para ter um maior controle dos níveis;</p></li>
</ul>
<p>Para criarmos um objeto do tipo quadro de dados (data frame), usamos a função data.frame(). Assim, como nas listas podemos inserir os objetos no quadro de dados inserindo o nome nas colunas ou não. A forma de acessar os elementos é interessante, podemos usar a sintaxe de indexação de uma lista ou de uma matriz. Vejamos os exemplos a seguir.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="objetos.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um quadro de dados</span></span>
<span id="cb145-2"><a href="objetos.html#cb145-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, </span>
<span id="cb145-3"><a href="objetos.html#cb145-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">y =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>],</span>
<span id="cb145-4"><a href="objetos.html#cb145-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">z =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="dv">5</span>))</span>
<span id="cb145-5"><a href="objetos.html#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo dados</span></span>
<span id="cb145-6"><a href="objetos.html#cb145-6" aria-hidden="true" tabindex="-1"></a>dados</span></code></pre></div>
<pre><code>x y     z</code></pre>
<p>1 1 a TRUE
2 2 b FALSE
3 3 c TRUE
4 4 d FALSE
5 5 e TRUE
6 6 f FALSE
7 7 g TRUE
8 8 h FALSE
9 9 i TRUE
10 10 j FALSE</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="objetos.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando os elementos de forma de lista</span></span>
<span id="cb147-2"><a href="objetos.html#cb147-2" aria-hidden="true" tabindex="-1"></a>dados[[<span class="dv">1</span>]]</span></code></pre></div>
<p>[1] 1 2 3 4 5 6 7 8 9 10</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="objetos.html#cb148-1" aria-hidden="true" tabindex="-1"></a>dados<span class="sc">$</span>x</span></code></pre></div>
<p>[1] 1 2 3 4 5 6 7 8 9 10</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="objetos.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando os elementos em forma de matriz</span></span>
<span id="cb149-2"><a href="objetos.html#cb149-2" aria-hidden="true" tabindex="-1"></a>dados[<span class="dv">1</span>, ] <span class="co"># Coluna 1</span></span></code></pre></div>
<p>x y z
1 1 a TRUE</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="objetos.html#cb150-1" aria-hidden="true" tabindex="-1"></a>dados[<span class="dv">1</span>, <span class="dv">1</span>] <span class="co"># Elemento da linha 1 coluna 1</span></span></code></pre></div>
<p>[1] 1</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="objetos.html#cb151-1" aria-hidden="true" tabindex="-1"></a>dados[, <span class="dv">1</span>] <span class="co"># Linha 1 </span></span></code></pre></div>
<p>[1] 1 2 3 4 5 6 7 8 9 10</p>
<p>Quando importamos um conjunto de dados, por exemplo usando a função read.table(), o objeto que armazena esses dados é um quadro de dados. Assunto discutido mais a frente.</p>
<p>A semelhança com a forma retangular de uma matriz, faz com que algumas funções utilizadas em matrizes sejam utilizadas em quadro de dados:</p>
<ul>
<li><p>As funções rownames() e colnames(), retornam ou inserem os nomes das linhas e colunas, respectivamente. A função names() retorna o nome das colunas.</p></li>
<li><p>A dimensão das linhas e colunas podem ser obtidas pelas funções nrow() e ncol(), respectivamente. A função length() retorna o número de colunas.</p></li>
</ul>
<p>Em algumas situações, estamos interessados em otimizar o nosso tempo de programação, e achamos muito demorado ou não conveniente a utilização da sintaxe objeto$elemento para acessar os elementos de uma lista. Dessa forma, poderemos utilizar a função attach() para que os elementos do quadro de dados estejam disponíveis (anexados) no caminho de busca, e assim, possamos acessar os elementos (ou objetos) do quadro de dados sem precisar mencioná-lo. Vejamos,</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="objetos.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um quadro de dados</span></span>
<span id="cb152-2"><a href="objetos.html#cb152-2" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, </span>
<span id="cb152-3"><a href="objetos.html#cb152-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>],</span>
<span id="cb152-4"><a href="objetos.html#cb152-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">z =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="dv">5</span>))</span>
<span id="cb152-5"><a href="objetos.html#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Usando a funcao attach()</span></span>
<span id="cb152-6"><a href="objetos.html#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(dados)</span>
<span id="cb152-7"><a href="objetos.html#cb152-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-8"><a href="objetos.html#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Acessando os elementos</span></span>
<span id="cb152-9"><a href="objetos.html#cb152-9" aria-hidden="true" tabindex="-1"></a>x; y; z</span></code></pre></div>
<p>, , 1</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 1 3 5
[2,] 2 4 6</p>
<p>, , 2</p>
<pre><code> [,1] [,2] [,3]</code></pre>
<p>[1,] 7 9 11
[2,] 8 10 12
[1] 1 2 3
[1] 1 2 4</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="objetos.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Desanexando dados</span></span>
<span id="cb155-2"><a href="objetos.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(dados)</span></code></pre></div>
<p>Essa função attach() tem implicações, quando por exemplo se deseja inseri-la na construção de um pacote R. Iremos discutir esse ponto mais a frente. Para desanexar o quadro de dados, use detach(). A função attach() é genérica e pode ser usada em qualquer objeto de modo list ser anexado no caminho de busca.</p>
</div>
<div id="importando-dados" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Importando dados</h3>
<p>A importação/exportação de dados era algo que em poucas linhas conseguíamos explicar sobre o ambiente R, no sentido de análise de dados. Entretanto, observando o terceiro princípio do R, afirmado por Chambers (2016):</p>
<ul>
<li><em>Princípio da Interface</em>: Interfaces para outros programas são parte do R</li>
</ul>
<p>Hoje é uma realidade a interação que o ambiente R tem com outras interfaces (programas, linguagens, etc.). A facilidade em utilizar outras linguagens dentro do ambiente R torna assim mais complexo a importação/exportação de dados, uma vez que o objetivo do R, apesar do R Core Team ainda limitar a sua definição como o ambiente para a computação estatística, a ferramenta se tornou tão versátil, que hoje torna humilde essa definição. Para mais detalhes acesse o manual R Data Import/Export. Um outro fator e tema atual é a era dos grandes bancos de dados (Big Data), do qual se tem um grande conjunto de variáveis e necessitamos fazer a importação por APIs, por exemplo, ou outras vias. Temas como esses, abordaremos no módulo Programação em R (Nível Avançado).</p>
<p>Nesse momento, limitaremos esse assunto ao objetivo de termos um conjunto de dados em arquivos de texto (extensões do tipo .txt, .csv, xls), formato binário (.xls ou .xlsx) ou digitados manualmente pelo teclado do computador. Assim, a primeira forma de como os dados estão dispostos, precisaremos importá-los e armazená-los em um quadro de dados (data frame), para que esteja disponível na área de trabalho (ambiente global) do R, e dessa forma, possamos utilizá-lo. Ao final do tratamento dos dados, podemos exportar essas informações para arquivos externos, e daí também, usaremos os arquivos de textos e o formato binário (.xls), mensionados anteriormente.</p>
<div id="preparação-dos-dados" class="section level4" number="4.3.6.1">
<h4><span class="header-section-number">4.3.6.1</span> Preparação dos dados</h4>
<p>A primeira coisa que devemos entender quando desejamos construir o arquivo de dados, é entender que sempre organizaremos as variáveis em colunas, com os seus valores em linhas, Figura <a href="objetos.html#fig:ModeloEstruturalBD">4.5</a>. Sempre a primeira linha das colunas representarar o nome das variáveis. Esse é outro ponto importante, pois devemos ter a noção que alguma linguagem irá ler esse banco de dados. Assim, quanto mais caracteres diferentes do padrão ASCII, mais difícil será a leitura desses dados. Assim, sugerimos alguns padrões:</p>
<ul>
<li>Evitem símbolos fora do padrão alfanumérico;</li>
<li>Evitem mistura de letras minúsculas com letras maiúsculas. Isso facilitará o acesso a essas variáveis. Contudo, lembre-se do padrão de nomes sintéticos permissíveis do R;</li>
<li>Lembre-se que o banco de dados será utilizado para que um programa faça a sua leitura, portanto, deixe a formatação da apresentação dos dados para arquivos específico. Sendo assim, evitem comentários nesses arquivos, ou qualquer outro tipo de informação que não seja o banco de dados;</li>
<li>Evitem palavras longas, por exemplo, segundavariavel (má escolha), segvar (boa escolha), seg_var (boa escolha);</li>
<li>Evitem palavras compostas com espaço entre elas. Para isso use o símbolo _, por exemplo, var 2 (má escolha), var2 (boa escolha), var_2 (boa escolha);</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:ModeloEstruturalBD"></span>
<img src="img/Modelo_Estrutural_BD.PNG" alt="Modelo estrutural de um banco de dados." width="100%" />
<p class="caption">
FIGURA 4.5: Modelo estrutural de um banco de dados.
</p>
</div>
</div>
<div id="importando-dados-1" class="section level4" number="4.3.6.2">
<h4><span class="header-section-number">4.3.6.2</span> Importando dados</h4>
<p>A função primária responável pela importação de dados é a função scan(). Por exemplo, funções como read.table(), read.csv() e read.delim(), usam a função scan() em seu algoritmo.</p>
<p>A primeira ideia sobre importação de dados pode ser inserindo-os pelo teclado no próprio ambiente R. Para isso, usaremos a função scan(). Vejamos,</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="objetos.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando e inserido os elementos do objeto dados</span></span>
<span id="cb156-2"><a href="objetos.html#cb156-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">scan</span>()</span></code></pre></div>
<p>Após executado essa linha de comando, aparecerá no console 1: que significa, digitar o primeiro valor do objeto x, e depois clicar em ENTER. Depois 2:, que significa digitar o segundo valor, e clicar em ENTER. Depois de inserido todos os valores necessários, aperte a tecla ENTER duas vezes no console, para sair da função scan().</p>
<p>O mais tradicional é usar programa para criação de banco de dados e deixá-lo pronto para o R lê-lo. O tipo de arquivo de texto que melhor controla a separação de variáveis é com a extensão .csv, uma vez que separamos as variáveis por “;” é o padrão. O arquivo de texto com extensão .txt, geralmente usa espaços. Isso acaba gerando problema de leitura no R, porque muitos usuários usam nomes de variáveis muito grandes, palavras compostas, de forma a desalinhar as colunas das variáveis. Daí, como a separação das variáveis é por meio de espaços, acaba gerando problema de leitura. Uma outra forma, é fazer importação de dados gerados pelo próprio R, extensão .RData</p>
<p>Temos a opção de usar um editor de banco de dados para essas extensões por meio de programas como MS Excel, Libre Office, dentre outros. Estes exportam arquivos binários do tipo .xls, .xlsx, dentre outros. Uma sugestão para diminuir complicações, é exportar os bancos de dados para arquivos de texto sitados acima, que também é possível ser exportado por esses programas. Isso evita a necessidade de ser instalado mais pacotes e dor de cabeça. Porém, para quem ainda deseja enfrentar, sugerimos a leitura do pacote readr, como exemplo, porém existem diversos outros pacotes para este mesmo fim.</p>
<p>Uma vez que o banco de dados está pronto, a leitura destes pode ser feita por alguns caminhos. Mostraremos o mais trivial que é o botão Import Dataset, terceiro quadrante, aba Environment, na IDE do RStudio. Veja na Figura 13.</p>
<p><span class="math display">\[FIGURA\]</span>
Posteriormente, indique o arquivo para leitura. Aparece algumas opções de tipo de arquivo. Em nosso caso, usaremos a opção From Text (base), que significa realizar a leitura para os tipos de arquivo .txt ou .csv. Daí os passos seguintes são:</p>
<ol style="list-style-type: decimal">
<li><p>Escolher o arquivo para leitura dos dados;
<span class="math display">\[FIGURA\]</span></p></li>
<li><p>Configurar a leitura do banco de dados. Uma prévia pode ser vista no quadro Data Frame. Se for visualizado, algum problema, isso significa que deve ser informado opções adicionais como separador de variáveis (Separator), símbolo para casas decimais (Decimal), dentre outras opções. Por fim, digitar o nome associado ao objeto (Name) que será criado do tipo quadro de dados (data frame), e clicar no botão Import;
<span class="math display">\[FIGURA\]</span></p></li>
<li><p>Uma vez inserido, o RStudio apresenta a linha de comando utilizada para importar os dados no console (2º quadrante), o conjunto de dados (1º quadrante), e a ligação entre o nome e o objeto no ambiente global (3º quadrante).
<span class="math display">\[FIGURA\]</span></p></li>
</ol>
<p>A outra forma é utilizar linhas de comando. Para isso utilizaremos a função read.table(). Antes de importarmos o banco de dados, algo interessante é inserir o arquivo de dados no diretório de trabalho no ambiente R. Para verificar o ambiente de trabalho use a função getwd(). Para alterar o local do ambiente de trabalho use setwd(). Se esse procedimento não for realizado, o usuário deve informar na função read.table(), o local exato do arquivo de texto.</p>
<p>Vamos usar como diretório o local C:. Lembre-se que no R, a barra deve ser invertida. Vamos inserir nesse diretório três arquivos alfafa.txt, datast1980.txt e producao.csv.</p>
<p>Os três conjuntos de dados são:</p>
<ul>
<li>alfafa.txt</li>
</ul>
<p><span class="math display">\[TABELA\]</span>
- datast1980.txt
<span class="math display">\[TABELA\]</span></p>
<ul>
<li>producao.csv
<span class="math display">\[TABELA\]</span>
Vejamos as linhas de comando para importar os dados.</li>
</ul>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="objetos.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Diretorio</span></span>
<span id="cb157-2"><a href="objetos.html#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb157-3"><a href="objetos.html#cb157-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-4"><a href="objetos.html#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mudando para o diretório de interesse</span></span>
<span id="cb157-5"><a href="objetos.html#cb157-5" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/cursor&quot;</span>)</span>
<span id="cb157-6"><a href="objetos.html#cb157-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-7"><a href="objetos.html#cb157-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando os arquivos no diretorio de trabalho</span></span>
<span id="cb157-8"><a href="objetos.html#cb157-8" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>()</span>
<span id="cb157-9"><a href="objetos.html#cb157-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-10"><a href="objetos.html#cb157-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Importando os dados apontando para o diretorio do arquivo</span></span>
<span id="cb157-11"><a href="objetos.html#cb157-11" aria-hidden="true" tabindex="-1"></a>dados1 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;C:/cursor/alfafa.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb157-12"><a href="objetos.html#cb157-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-13"><a href="objetos.html#cb157-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Considerando que o arquivo esta no diretorio de</span></span>
<span id="cb157-14"><a href="objetos.html#cb157-14" aria-hidden="true" tabindex="-1"></a><span class="co"># trabalho, isto eh, getwd()</span></span>
<span id="cb157-15"><a href="objetos.html#cb157-15" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;alfafa.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb157-16"><a href="objetos.html#cb157-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-17"><a href="objetos.html#cb157-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Importando os dados com decimais com &#39;,&#39; apontando para o diretorio do arquivo</span></span>
<span id="cb157-18"><a href="objetos.html#cb157-18" aria-hidden="true" tabindex="-1"></a>dados3 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;C:/cursor/dadost1980.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">dec =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb157-19"><a href="objetos.html#cb157-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-20"><a href="objetos.html#cb157-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Considerando que o arquivo esta no diretorio de</span></span>
<span id="cb157-21"><a href="objetos.html#cb157-21" aria-hidden="true" tabindex="-1"></a><span class="co"># trabalho, isto eh, getwd()</span></span>
<span id="cb157-22"><a href="objetos.html#cb157-22" aria-hidden="true" tabindex="-1"></a>dados4 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;dadost1980.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">dec =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb157-23"><a href="objetos.html#cb157-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-24"><a href="objetos.html#cb157-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Importando os dados com decimais &#39;,&#39;, e separados por &#39;;&#39; apontando para o diretorio do arquivo</span></span>
<span id="cb157-25"><a href="objetos.html#cb157-25" aria-hidden="true" tabindex="-1"></a>dados5 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;C:/cursor/producao.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">dec =</span> <span class="st">&quot;,&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb157-26"><a href="objetos.html#cb157-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-27"><a href="objetos.html#cb157-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Considerando que o arquivo esta no diretorio de</span></span>
<span id="cb157-28"><a href="objetos.html#cb157-28" aria-hidden="true" tabindex="-1"></a><span class="co"># trabalho, isto eh, getwd()</span></span>
<span id="cb157-29"><a href="objetos.html#cb157-29" aria-hidden="true" tabindex="-1"></a>dados6 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;producao.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">dec =</span> <span class="st">&quot;,&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb157-30"><a href="objetos.html#cb157-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-31"><a href="objetos.html#cb157-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Importando da internet</span></span>
<span id="cb157-32"><a href="objetos.html#cb157-32" aria-hidden="true" tabindex="-1"></a>dados7 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;https://bendeivide.github.io/cursor/dados/alfafa.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Na última linha de comando, mostramos que também é possível importar dados de arquivos de texto da internet, e claro considerando que o usuário está com acesso a internet no momento da importação. E um recurso interessante que pode ser feito, principalmente para este caso, é salvar o banco de dados em um arquivo de dados no .RData. Dessa forma, todos os dados, inclusive os importados da internet serão agora armazenados nesse tipo de arquivo, e não precisaremos, nesse caso, de acesso a internet. Para salvar, usamos a função save(). Para carregar os dados e armazená-lo no ambiente global, usamos a função load(). Vejamos,</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="objetos.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Diretorio</span></span>
<span id="cb158-2"><a href="objetos.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb158-3"><a href="objetos.html#cb158-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-4"><a href="objetos.html#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando os arquivos do diretorio de trabalho</span></span>
<span id="cb158-5"><a href="objetos.html#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>()</span>
<span id="cb158-6"><a href="objetos.html#cb158-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-7"><a href="objetos.html#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Importando os dados da internet</span></span>
<span id="cb158-8"><a href="objetos.html#cb158-8" aria-hidden="true" tabindex="-1"></a>dados7 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;https://bendeivide.github.io/cursor/dados/alfafa.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb158-9"><a href="objetos.html#cb158-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-10"><a href="objetos.html#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Salvando em &#39;.RData&#39;</span></span>
<span id="cb158-11"><a href="objetos.html#cb158-11" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(dados7, <span class="at">file =</span> <span class="st">&quot;alfafa.RData&quot;</span>)</span>
<span id="cb158-12"><a href="objetos.html#cb158-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-13"><a href="objetos.html#cb158-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregando &#39;.RData&#39; para o ambiente global</span></span>
<span id="cb158-14"><a href="objetos.html#cb158-14" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;alfafa.RData&quot;</span>)</span></code></pre></div>
<p>Percebemos que as extensões .txt e .csv são idênticos, exceto pela estrutura de como os dados estão dispostos. Para comprovar isso, o usuário manualmente poderá mudar a entensão de um arquivo do tipo .csv para um arquivo .txt e observar em um bloco de notas.</p>
<p>Até esse momento do curso, usamos as funções no R sem apresentar os argumentos dessas funções dentro dos parênteses. Isso porque quando inserimos os valores dos argumentos na posição correta destes, não precisaremos inserir o nome dos argumentos. Por exemplo, já usamos anteriormente a função mean() que calcula a média de um conjunto de valores, por exemplo, valores &lt;- 1:10. Temos como primeiro argumento para essa função o x que representa um objeto R que recebe os valores para o cálculo. Assim, como sabemos que x é o primeiro argumento dessa função, podemos omitir o seu nome e calcular a média por mean(valores), que é o mesmo que mean(x = valores). Para mais detalhes, ?mean(). Para mais detalhes sobre a função read.table(), use ?read.table().</p>
</div>
</div>
<div id="funções" class="section level3" number="4.3.7">
<h3><span class="header-section-number">4.3.7</span> Funções</h3>
<p>Mais uma vez, nos reportamos aos princípios do R (Chambers (2016)), mais especificamente ao segundo princípio,</p>
<ul>
<li>Princípio da função: Tudo que acontece no R é uma chamada de função.</li>
</ul>
<p>Para que possamos compreender esse princípio, precisamos entender que uma função é um objeto, isto é, modo function, assim como os vetores são, seguindo as mesmas ideias comentadas na seção anterior, e que as funções podem ser dividas em três componentes:</p>
<ul>
<li>Argumentos, função formals(),</li>
<li>Corpo, função body() e</li>
<li>Ambiente, função environment().</li>
</ul>
<p>Para o caso das funções primitivas, escritas na linguagem C, essa regra foge a excessão, e será comentado nos módulos seguintes. Dizemos que funções são primitivas de modo builtin ou special.</p>
<p>A ideia de função aqui não pensando como uma relação matemática, mas como um sistema que tem uma entrada e saída. Podemos ter funções no ambiente R que organiza dados, e não operações matemáticas por exemplo. Vejamos a função sort() do pacote base que ordena de forma crescente ou descrescente um conjunto de valores,</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="objetos.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetor</span></span>
<span id="cb159-2"><a href="objetos.html#cb159-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>); y</span></code></pre></div>
<p>[1] 5 3 4</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="objetos.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb160-2"><a href="objetos.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="at">x =</span> y)</span></code></pre></div>
<p>[1] 3 4 5</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="objetos.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos da funcao sort</span></span>
<span id="cb161-2"><a href="objetos.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(sort)</span></code></pre></div>
<p>$x</p>
<p>$decreasing
[1] FALSE</p>
<p>$…</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="objetos.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Corpo da funcao</span></span>
<span id="cb162-2"><a href="objetos.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">body</span>(sort)</span></code></pre></div>
<p>{
if (!is.logical(decreasing) || length(decreasing) != 1L)
stop(“‘decreasing’ must be a length-1 logical vector.you intend to set ‘partial?’”)
UseMethod(“sort”)
}</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="objetos.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ambiente</span></span>
<span id="cb163-2"><a href="objetos.html#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="fu">environment</span>(sort)</span></code></pre></div>
<p>&lt;environment: namespace:base&gt;</p>
<p>Nesse caso, os argumentos x, decreascing e …, são nomes que aguardam receber objetos para a execução da função sort(). Nem todos os argumentos necessitam receber objetos, a estes chamamos de argumentos padrão, como o caso do argumento decreascing com padrão igual a FALSE, que significa que o ordenamento dos dados será de forma não-decrescente. Observe que na função sort() entramos apenas com o argumento x = y, não precisando inserir decreascing = FALSE. Agora, para modificar o argumento padrão, basta acrescentar a alteração na função, isto é,</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="objetos.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb164-2"><a href="objetos.html#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="at">x =</span> y, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>[1] 5 4 3</p>
<p>O ‘…’ é um argumento especial e significa que pode conter qualquer número de argumentos. Geralmente é utilizado em uma função quando não se sabe o número exato de argumentos. Na subseção Como criar funções, entenderemos melhor.</p>
<p>O próximo item é o corpo da função. É nele que inserirmos as instruções, isto é, as linhas de comandos necessárias a que destina a sua criação. Uma outra forma de acessarmos o corpo das funções é digitar no console apenas o seu nome sem o parêntese, isto é, sort.</p>
<p>Por fim, o ambiente que no caso da função sort() representa o ambiente do pacote base, isto é, o namespace do pacote.</p>
<p>Por fim, o ambiente que no caso da função sort() representa o ambiente do pacote base, isto é, o namespace do pacote.</p>
<p>O ambiente R apresenta uma versatilidade de manuais para a linguagem. Por exemplo, para verificar informações sobre um determinado pacote como o base, use help(package = “base”). A função help pode ser utilizada para funções de pacotes anexados. Por exemplo, help(“sort”). O pacote base sempre estará anexado, isto é, disponível no caminho de busca para a utilização. Para os que não estão anexados, a função help deve informar o nome da função que necessita de ajuda, bem como o seu pacote. Por exemplo, temos uma função read.dbf() do pacote foreign, Base do R, porém, ele não está anexado ao inicializar o R. Assim, caso não anexe o pacote, usando library(“foreign”), a ajuda sobre a função pode ser realizada com help(“read.dbf,” package = “foreign”). Outras sintaxes para a função help() é usar ? antes do nome de uma função de um pacote anexado, isto é, ?sort().</p>
<p>Para os manuais de ajuda na internet, use ?? antes do nome da função, por exemplo ??sort(), read.dbf(), etc. Essa sintaxe não precisa dos pacotes estarem anexados para ajuda de determinada função, porém o pacote necessita estar instalado. Para mais detalhes sobre pacotes, teremos uma seção sobre Pacotes.</p>
<p>As chamadas de funções no podem ocorrer de três formas: aninhada, intermediária ou de forma pipe. As duas primeiras formas da Base do R, e o segundo foi uma sintaxe utilizada pelo pacote magrittr.</p>
<p>Suponha que desejamos calcular o desvio padrão de um conjunto de valores. Vamos utilizar as três formas:</p>
<ul>
<li>Aninhado:</li>
</ul>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="objetos.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerando 100 numeros aleatorios de uma distribuicao normal</span></span>
<span id="cb165-2"><a href="objetos.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>) <span class="co"># Semente</span></span>
<span id="cb165-3"><a href="objetos.html#cb165-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb165-4"><a href="objetos.html#cb165-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-5"><a href="objetos.html#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando o desvio padrao</span></span>
<span id="cb165-6"><a href="objetos.html#cb165-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">var</span>(x))</span></code></pre></div>
<p>[1] 0.9412359</p>
<ul>
<li>intermediária:</li>
</ul>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="objetos.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando o desvio padrao</span></span>
<span id="cb166-2"><a href="objetos.html#cb166-2" aria-hidden="true" tabindex="-1"></a>vari <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb166-3"><a href="objetos.html#cb166-3" aria-hidden="true" tabindex="-1"></a>desvpad <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(vari); desvpad</span></code></pre></div>
<p>[1] 0.9412359</p>
<ul>
<li>Pipe:</li>
</ul>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="objetos.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Anexando o pacote</span></span>
<span id="cb167-2"><a href="objetos.html#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb167-3"><a href="objetos.html#cb167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-4"><a href="objetos.html#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando o desvio padrao</span></span>
<span id="cb167-5"><a href="objetos.html#cb167-5" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span></span>
<span id="cb167-6"><a href="objetos.html#cb167-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">var</span>() <span class="sc">%&gt;%</span></span>
<span id="cb167-7"><a href="objetos.html#cb167-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">sqrt</span>()</span></code></pre></div>
<p>[1] 0.9412359</p>
<p>A ideia da chamada de função aninhada é inserir função como argumento de funções sem necessidade de associar nomes aos objetos. A ordem de execução começa sempre da direita para a esquerda. No caso da chamada de função intermediária, associamos nomes a cada função, e os passos seguem. Por fim, o operador especial pipe (%&gt;%) tem como primeiro operando o primeiro argumento da função no segundo operando.</p>
<p>Quando desenvolvemos pacotes, preferimos os dois primeiros, pois é a forma tradicional de chamadas de função no R. A chamada de função pipe é muito utilizada para ciência dos dados.</p>
<div id="estruturas-de-controle" class="section level4" number="4.3.7.1">
<h4><span class="header-section-number">4.3.7.1</span> Estruturas de controle</h4>
<p>As funções que utilizaremos, a seguir, são utilizadas quando desejamos realizar processos repetitivos para um determinado fim ou condicionado, as famosas estruturas de controle. Assim, como em outras linguagens, as funções utilizadas são: if(), switch(), ifelse(), while(), repeat, for(). Esses objetos tem modo special
Use a função typeof() para verificar.
20 , porque as expressão não são necessariamente avaliadas. Já a função ifelse() é de modo closure 21 . Esse é um tipo de função implementado por function().</p>
<p>A ideias das estruturas de controle de modo special é:</p>
<p>função (condição) {
expressão
}</p>
<p>A sintaxe das funções repeat e swicth() fogem um pouco desse padrão, e explicaremos em sua aplicação.</p>
<p>Apesar da linguagem R ser interpretada, acaba ganhando a fama de que as funções loops são mais lentas. Em alguns casos, a construção do algoritmo proporciona isso e não a implementação dessas funções em si. Um exemplo que podemos citar, são as cópias de objetos podem ter um gasto de memória ativa imenso no processo e proporcionar um gasto computacional. E isso foi devido a forma de como o algoritmo copiou os objetos, e não as funções lopps. Veremos isso no módulo Programação em R (Nível Intermediário).</p>
<p>A primeira estrutura é o if(), com sintaxe:</p>
<p>if (condição) {
expressão sob condição = TRUE
} else {
expressão sob condição = FALSE
}
ou de forma alternativa:</p>
<p>if (condição) {
expressão sob condição = TRUE
}
Observe o primeiro exemplo,</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="objetos.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto numerico</span></span>
<span id="cb168-2"><a href="objetos.html#cb168-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb168-3"><a href="objetos.html#cb168-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-4"><a href="objetos.html#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Estrutura &#39;if&#39;</span></span>
<span id="cb168-5"><a href="objetos.html#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb168-6"><a href="objetos.html#cb168-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(<span class="st">&quot;Isso é um número&quot;</span>)</span>
<span id="cb168-7"><a href="objetos.html#cb168-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb168-8"><a href="objetos.html#cb168-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(<span class="st">&quot;Isso não é um número&quot;</span>)</span>
<span id="cb168-9"><a href="objetos.html#cb168-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] “Isso é um número”</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="objetos.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># eh o mesmo que</span></span>
<span id="cb169-2"><a href="objetos.html#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">is.numeric</span>(x) <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb169-3"><a href="objetos.html#cb169-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(<span class="st">&quot;Isso é um número&quot;</span>)</span>
<span id="cb169-4"><a href="objetos.html#cb169-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb169-5"><a href="objetos.html#cb169-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(<span class="st">&quot;Isso não é um número&quot;</span>)</span>
<span id="cb169-6"><a href="objetos.html#cb169-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] “Isso é um número”</p>
<p>observe na primeira forma que a condição na função nós não precisamos perguntar se is.numeric(x) == TRUE, porque isso já é implícito na função, e acaba levando a primeira expressão print(“Isso é um número”). No R, essa estrutura de controle não é vetorizado, isto é, se a condição houver um vetor lógico maior que 1, apenas os primeiros itens serão usados. Vejamos,</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="objetos.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objetos</span></span>
<span id="cb170-2"><a href="objetos.html#cb170-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb170-3"><a href="objetos.html#cb170-3" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb170-4"><a href="objetos.html#cb170-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-5"><a href="objetos.html#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Primeira sintaxe (Preferivel)</span></span>
<span id="cb170-6"><a href="objetos.html#cb170-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&lt;</span> w) {</span>
<span id="cb170-7"><a href="objetos.html#cb170-7" aria-hidden="true" tabindex="-1"></a> x</span>
<span id="cb170-8"><a href="objetos.html#cb170-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb170-9"><a href="objetos.html#cb170-9" aria-hidden="true" tabindex="-1"></a> w</span>
<span id="cb170-10"><a href="objetos.html#cb170-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 3 4 5 6 7 8</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="objetos.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Segunda forma</span></span>
<span id="cb171-2"><a href="objetos.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co"># if (x &lt; w) x else w</span></span></code></pre></div>
<p>Como forma alternativa, pode ser usado a função ifelse, cuja sintaxe é:</p>
<p>ifelse(condição, expressão sob TRUE, expressão sob FALSE)</p>
<p>Assim, temos:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="objetos.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objetos</span></span>
<span id="cb172-2"><a href="objetos.html#cb172-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb172-3"><a href="objetos.html#cb172-3" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb172-4"><a href="objetos.html#cb172-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-5"><a href="objetos.html#cb172-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Primeira sintaxe (Preferivel)</span></span>
<span id="cb172-6"><a href="objetos.html#cb172-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">&lt;</span> w, x, w)</span></code></pre></div>
<p>[1] 3 4 5 5 5 5</p>
<p>Podemos estar interessados em resultados específicos para determinadas condições. Por exemplo,</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="objetos.html#cb173-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># numero ou palavra</span></span>
<span id="cb173-2"><a href="objetos.html#cb173-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-3"><a href="objetos.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Estrutura &#39;if&#39;</span></span>
<span id="cb173-4"><a href="objetos.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">is.character</span>(x)) {</span>
<span id="cb173-5"><a href="objetos.html#cb173-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&quot;palavra&quot;</span></span>
<span id="cb173-6"><a href="objetos.html#cb173-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb173-7"><a href="objetos.html#cb173-7" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> ((x <span class="sc">%%</span> <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb173-8"><a href="objetos.html#cb173-8" aria-hidden="true" tabindex="-1"></a>     <span class="st">&quot;numero_par&quot;</span></span>
<span id="cb173-9"><a href="objetos.html#cb173-9" aria-hidden="true" tabindex="-1"></a>   } <span class="cf">else</span> {</span>
<span id="cb173-10"><a href="objetos.html#cb173-10" aria-hidden="true" tabindex="-1"></a>       <span class="cf">if</span> ((x <span class="sc">%%</span> <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb173-11"><a href="objetos.html#cb173-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;numero_impar&quot;</span></span>
<span id="cb173-12"><a href="objetos.html#cb173-12" aria-hidden="true" tabindex="-1"></a>       }</span>
<span id="cb173-13"><a href="objetos.html#cb173-13" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb173-14"><a href="objetos.html#cb173-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] “numero_par”</p>
<p>Outro exemplo seria,</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="objetos.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto</span></span>
<span id="cb174-2"><a href="objetos.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">15</span>) <span class="co"># Fixando a semente</span></span>
<span id="cb174-3"><a href="objetos.html#cb174-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>) <span class="co"># Gerando 1000 numeros aleatorios</span></span>
<span id="cb174-4"><a href="objetos.html#cb174-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-5"><a href="objetos.html#cb174-5" aria-hidden="true" tabindex="-1"></a><span class="co"># medida descritiva</span></span>
<span id="cb174-6"><a href="objetos.html#cb174-6" aria-hidden="true" tabindex="-1"></a>opcao <span class="ot">&lt;-</span> <span class="st">&quot;media&quot;</span> <span class="co"># opcoes: &quot;media&quot;, &quot;mediana&quot;, &quot;medapar&quot; (media aparada)</span></span>
<span id="cb174-7"><a href="objetos.html#cb174-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-8"><a href="objetos.html#cb174-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">&quot;media&quot;</span>) {</span>
<span id="cb174-9"><a href="objetos.html#cb174-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">cat</span>(<span class="st">&quot;A média aritmética é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>))</span>
<span id="cb174-10"><a href="objetos.html#cb174-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb174-11"><a href="objetos.html#cb174-11" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">&quot;mediana&quot;</span>) {</span>
<span id="cb174-12"><a href="objetos.html#cb174-12" aria-hidden="true" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;A mediana é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>))</span>
<span id="cb174-13"><a href="objetos.html#cb174-13" aria-hidden="true" tabindex="-1"></a>   } <span class="cf">else</span> {</span>
<span id="cb174-14"><a href="objetos.html#cb174-14" aria-hidden="true" tabindex="-1"></a>       <span class="cf">if</span> (opcao <span class="sc">==</span> <span class="st">&quot;medapar&quot;</span>) {</span>
<span id="cb174-15"><a href="objetos.html#cb174-15" aria-hidden="true" tabindex="-1"></a>         <span class="fu">cat</span>(<span class="st">&quot;A média aparada é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>))</span>
<span id="cb174-16"><a href="objetos.html#cb174-16" aria-hidden="true" tabindex="-1"></a>       }</span>
<span id="cb174-17"><a href="objetos.html#cb174-17" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb174-18"><a href="objetos.html#cb174-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>A média aritmética é: 0.037</p>
<p>Poderíamos utilizar a função switch(), para esse mesmo código, isto é,</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="objetos.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="cf">switch</span>(opcao,</span>
<span id="cb175-2"><a href="objetos.html#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">media =</span> <span class="fu">cat</span>(<span class="st">&quot;A média aritmética é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>)),</span>
<span id="cb175-3"><a href="objetos.html#cb175-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mediana =</span> <span class="fu">cat</span>(<span class="st">&quot;A mediana é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>)),</span>
<span id="cb175-4"><a href="objetos.html#cb175-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">medapar =</span> <span class="fu">cat</span>(<span class="st">&quot;A média aparada é:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>))</span>
<span id="cb175-5"><a href="objetos.html#cb175-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>A média aritmética é: 0.037</p>
<p>As três estruturas de loop no R são: repeat, while() e for(). A primeira delas é repeat, apresentamos sua sintaxe:</p>
<p>repeat {
expressão …
}</p>
<p>Juntamente com o repeat, usamos as funções break e next, pois a função repeat não tem uma condição explícita. Vejamos, alguns exemplos.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="objetos.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contador</span></span>
<span id="cb176-2"><a href="objetos.html#cb176-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb176-3"><a href="objetos.html#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop repeat</span></span>
<span id="cb176-4"><a href="objetos.html#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb176-5"><a href="objetos.html#cb176-5" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb176-6"><a href="objetos.html#cb176-6" aria-hidden="true" tabindex="-1"></a>   <span class="cf">break</span></span>
<span id="cb176-7"><a href="objetos.html#cb176-7" aria-hidden="true" tabindex="-1"></a> } <span class="cf">else</span> {</span>
<span id="cb176-8"><a href="objetos.html#cb176-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(i)</span>
<span id="cb176-9"><a href="objetos.html#cb176-9" aria-hidden="true" tabindex="-1"></a>   i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb176-10"><a href="objetos.html#cb176-10" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb176-11"><a href="objetos.html#cb176-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</p>
<p>Observe que quando i &lt;- 6, o ciclo entrou na condição if(i &gt; 5) e avaliou a função break, que resultou na quebra do ciclo. Assim, a função print(i) não foi mais acionada, e os resultados foram impressos até o número 5. No próximo exemplo, acrescentamos a função next.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="objetos.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contador</span></span>
<span id="cb177-2"><a href="objetos.html#cb177-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb177-3"><a href="objetos.html#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop repeat</span></span>
<span id="cb177-4"><a href="objetos.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb177-5"><a href="objetos.html#cb177-5" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb177-6"><a href="objetos.html#cb177-6" aria-hidden="true" tabindex="-1"></a>   <span class="cf">break</span></span>
<span id="cb177-7"><a href="objetos.html#cb177-7" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb177-8"><a href="objetos.html#cb177-8" aria-hidden="true" tabindex="-1"></a> <span class="cf">else</span> {</span>
<span id="cb177-9"><a href="objetos.html#cb177-9" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb177-10"><a href="objetos.html#cb177-10" aria-hidden="true" tabindex="-1"></a>     i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb177-11"><a href="objetos.html#cb177-11" aria-hidden="true" tabindex="-1"></a>     <span class="cf">next</span></span>
<span id="cb177-12"><a href="objetos.html#cb177-12" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb177-13"><a href="objetos.html#cb177-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(i)</span>
<span id="cb177-14"><a href="objetos.html#cb177-14" aria-hidden="true" tabindex="-1"></a>   i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb177-15"><a href="objetos.html#cb177-15" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb177-16"><a href="objetos.html#cb177-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 4
[1] 5</p>
<p>Similar a essa função, temos while(), que agora, temos uma condição de parada, cuja sintaxe é:</p>
<p>while (condição) {
expressão …
}
Nessa função, também podemos usar as funções break e next, como usados na função repeat. Vejamos um exemplo,</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="objetos.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contador</span></span>
<span id="cb178-2"><a href="objetos.html#cb178-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb178-3"><a href="objetos.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop while</span></span>
<span id="cb178-4"><a href="objetos.html#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb178-5"><a href="objetos.html#cb178-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(i)</span>
<span id="cb178-6"><a href="objetos.html#cb178-6" aria-hidden="true" tabindex="-1"></a> i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb178-7"><a href="objetos.html#cb178-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</p>
<p>Nesse caso, não foi necessário utilizar a função break, devido a condição que ela permite impor ao ciclo. Vejamos um outro exemplo,</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="objetos.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contador</span></span>
<span id="cb179-2"><a href="objetos.html#cb179-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb179-3"><a href="objetos.html#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop while</span></span>
<span id="cb179-4"><a href="objetos.html#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb179-5"><a href="objetos.html#cb179-5" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb179-6"><a href="objetos.html#cb179-6" aria-hidden="true" tabindex="-1"></a>   i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb179-7"><a href="objetos.html#cb179-7" aria-hidden="true" tabindex="-1"></a>   <span class="cf">next</span></span>
<span id="cb179-8"><a href="objetos.html#cb179-8" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb179-9"><a href="objetos.html#cb179-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(i)</span>
<span id="cb179-10"><a href="objetos.html#cb179-10" aria-hidden="true" tabindex="-1"></a> i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb179-11"><a href="objetos.html#cb179-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 4
[1] 5</p>
<p>Observamos a utilização da função next, similar ao que foi realizado com a função repeat. Por fim, a função for(), cuja sintaxe é dada por:</p>
<p>for (contador in lista) {
expressão …
}</p>
<p>Com essa função, também podemos utilizar break e next. Porém, o controle do ciclo nessa sitação é maior, e menos necessário essas funções. Vejamos um primeiro exemplo,</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="objetos.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop for</span></span>
<span id="cb180-2"><a href="objetos.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb180-3"><a href="objetos.html#cb180-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(i)</span>
<span id="cb180-4"><a href="objetos.html#cb180-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</p>
<p>Observe que a implementação, dos algoritmos anteriores, é bem mais simples usando a função for(). Vejamos um próximo exemplo,</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="objetos.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop for</span></span>
<span id="cb181-2"><a href="objetos.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb181-3"><a href="objetos.html#cb181-3" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">3</span>) {</span>
<span id="cb181-4"><a href="objetos.html#cb181-4" aria-hidden="true" tabindex="-1"></a>   <span class="cf">next</span></span>
<span id="cb181-5"><a href="objetos.html#cb181-5" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb181-6"><a href="objetos.html#cb181-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(i)</span>
<span id="cb181-7"><a href="objetos.html#cb181-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[1] 1
[1] 2
[1] 4
[1] 5</p>
<p>Mais uma vez, foi utilizado a função next, sem necessidade agora, de atualizar o contador i, uma vez que já está definido na função for().</p>
<p>Veremos na próxima subseção, que temos funções de alto nível que podem substituir as funções loops. São as chamadas funções da família apply.</p>
</div>
<div id="como-criar-funções" class="section level4" number="4.3.7.2">
<h4><span class="header-section-number">4.3.7.2</span> Como criar funções</h4>
<p>Até esse momento, usamos funções já desenvolvidas no R, seja dos pacotes da Base, seja via instalação dos pacotes via CRAN. Agora, iremos desenvolver as nossas próprias funções.</p>
<p>Como falado anteriormente, no início dessa seção, a estrutura da função criada se mantém, argumento, corpo e ambiente. Para isso, usaremos a função function. O modo desse objeto é closure 22 . Vejamos a sua sintaxe,</p>
<p><em>Forma usual</em>
nome_funcao &lt;- function(arg1, arg2, …) {
corpo: comandos..
}
<em>Forma simplificada</em>
nome_funcao &lt;- function(arg1, arg2, …) corpo</p>
<p>Vejamos um primeiro exemplo,</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="objetos.html#cb182-1" aria-hidden="true" tabindex="-1"></a>fun1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb182-2"><a href="objetos.html#cb182-2" aria-hidden="true" tabindex="-1"></a> res <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb182-3"><a href="objetos.html#cb182-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(res)</span>
<span id="cb182-4"><a href="objetos.html#cb182-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Nesse caso, temos uma função chamada fun1, cujo argumento de entrada é x. Observe que uma função é como um objeto do tipo vetor, associamos um nome ao objeto da mesma forma. O corpo apresenta uma delimitação por chaves {…}, em que apresenta um comando de atribuição res que se associa a soma x + 1, e por fim, o resultado dessa função, imprime res, por meio da função return(). Para utilizar essa função, fazemos</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="objetos.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fun1</span>(<span class="at">x =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>[1] 6</p>
<p>O que aconteceu foi que ao assumir x = 5, essa informação foi repassada para o corpo da função, aonde existia x, foi substituído por 5, para esse caso. A função + é chamada, a expressão x + 1 avaliada, e nome res se associa ao resultado da expressão. Por fim, quando a função fun1 é chamada, o resultado de res é impresso no console, por meio de return(res). Vamos verificar os três componentes da função fun1,</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="objetos.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos</span></span>
<span id="cb184-2"><a href="objetos.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(fun1)</span></code></pre></div>
<p>$x</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="objetos.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Corpo</span></span>
<span id="cb185-2"><a href="objetos.html#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="fu">body</span>(fun1)</span></code></pre></div>
<p>{
res &lt;- x + 1
return(res)
}</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="objetos.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ambiente</span></span>
<span id="cb186-2"><a href="objetos.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">environment</span>(fun1)</span></code></pre></div>
<p>&lt;environment: R_GlobalEnv&gt;</p>
<p>O corpo da função é executado de forma sequencial, a partir da primeira linha até a última. Apesar de recomendado, também não é obrigatório o uso da função return(), veja</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="objetos.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb187-2"><a href="objetos.html#cb187-2" aria-hidden="true" tabindex="-1"></a>fun2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb187-3"><a href="objetos.html#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Executando</span></span>
<span id="cb187-4"><a href="objetos.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="fu">fun2</span>(<span class="dv">5</span>)</span></code></pre></div>
<p>[1] 6</p>
</div>
<div id="função-anônima" class="section level4" number="4.3.7.3">
<h4><span class="header-section-number">4.3.7.3</span> Função anônima</h4>
<p>Podemos também ter o que chamamos de <strong>função anônima</strong>, da qual não associamos nome as funções. Contudo, sendo criada esta não pode ser recuperada como qualquer outro objeto. Essa forma é interessante quando não precisamos dela após o seu uso. Por exemplo, queremos calcular a integral,</p>
<p><span class="math display">\[FUNCAO\]</span></p>
<p>e criamos uma função x2. Então,</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="objetos.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">integrate</span>(<span class="at">f =</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb188-2"><a href="objetos.html#cb188-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">lower =</span> <span class="dv">0</span>,</span>
<span id="cb188-3"><a href="objetos.html#cb188-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>0.3333333 with absolute error &lt; 3.7e-15</p>
<p>A função integrate é utilizada para o cálculo de integral, do qual, passamos os argumentos, função (f), limite inferior (lower) e limite superior (upper) da integração, respectivamente. Observe que não houve necessidade de nomear a função no argumento, pois não há objetivo de reutilizado.</p>
</div>
<div id="chamadas-de-função" class="section level4" number="4.3.7.4">
<h4><span class="header-section-number">4.3.7.4</span> Chamadas de função</h4>
<p>As chamadas para essas funções ocorrem da mesma forma que as funções apresentadas da Base do R. Vejamos o cálculo do desvio padrão novamente,</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="objetos.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao auxiliar 1</span></span>
<span id="cb189-2"><a href="objetos.html#cb189-2" aria-hidden="true" tabindex="-1"></a>aux1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">-</span> <span class="fu">mean</span>(x)</span>
<span id="cb189-3"><a href="objetos.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao auxiliar 2</span></span>
<span id="cb189-4"><a href="objetos.html#cb189-4" aria-hidden="true" tabindex="-1"></a>aux2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb189-5"><a href="objetos.html#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao auxiliar 3</span></span>
<span id="cb189-6"><a href="objetos.html#cb189-6" aria-hidden="true" tabindex="-1"></a>aux3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb189-7"><a href="objetos.html#cb189-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">sum</span>(x) <span class="sc">/</span> (<span class="fu">length</span>(x) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb189-8"><a href="objetos.html#cb189-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb189-9"><a href="objetos.html#cb189-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-10"><a href="objetos.html#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerando 100 numeros aleatorios de uma distribuicao normal</span></span>
<span id="cb189-11"><a href="objetos.html#cb189-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb189-12"><a href="objetos.html#cb189-12" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb189-13"><a href="objetos.html#cb189-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-14"><a href="objetos.html#cb189-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculo do desvio padrao (aninhado)</span></span>
<span id="cb189-15"><a href="objetos.html#cb189-15" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">aux3</span>(<span class="fu">aux2</span>(<span class="fu">aux1</span>(x))))</span></code></pre></div>
<p>[1] 0.9412359</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="objetos.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculo do desvio padrao (intemediario)</span></span>
<span id="cb190-2"><a href="objetos.html#cb190-2" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">aux1</span>(x)</span>
<span id="cb190-3"><a href="objetos.html#cb190-3" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">aux2</span>(dp)</span>
<span id="cb190-4"><a href="objetos.html#cb190-4" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">aux3</span>(dp)</span>
<span id="cb190-5"><a href="objetos.html#cb190-5" aria-hidden="true" tabindex="-1"></a>dp <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(dp)</span>
<span id="cb190-6"><a href="objetos.html#cb190-6" aria-hidden="true" tabindex="-1"></a>dp</span></code></pre></div>
<p>[1] 0.9412359</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="objetos.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculo do desvio padrao (pipe)</span></span>
<span id="cb191-2"><a href="objetos.html#cb191-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span></span>
<span id="cb191-3"><a href="objetos.html#cb191-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">aux1</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-4"><a href="objetos.html#cb191-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">aux2</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-5"><a href="objetos.html#cb191-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">aux3</span>() <span class="sc">%&gt;%</span></span>
<span id="cb191-6"><a href="objetos.html#cb191-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">sqrt</span>()</span></code></pre></div>
<p>[1] 0.9412359</p>
</div>
<div id="chamadas-de-função-1" class="section level4" number="4.3.7.5">
<h4><span class="header-section-number">4.3.7.5</span> Chamadas de função</h4>
<p>Os argumentos nas funções podem ser nomeados ou não. Quando nomeados, a ordem como são inseridos na função não importa. Já os argumentos não nomeados, seus valores precisam estar na ordem como a função foi desenvolvida. Vejamos,</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="objetos.html#cb192-1" aria-hidden="true" tabindex="-1"></a>estdesc <span class="ot">&lt;-</span> <span class="cf">function</span>(x, opcao) {</span>
<span id="cb192-2"><a href="objetos.html#cb192-2" aria-hidden="true" tabindex="-1"></a> res <span class="ot">&lt;-</span> <span class="cf">switch</span>(opcao,</span>
<span id="cb192-3"><a href="objetos.html#cb192-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>),</span>
<span id="cb192-4"><a href="objetos.html#cb192-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">mediana =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x), <span class="dv">4</span>),</span>
<span id="cb192-5"><a href="objetos.html#cb192-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">medapar =</span> <span class="fu">round</span>(<span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="fl">0.1</span>), <span class="dv">4</span>))</span>
<span id="cb192-6"><a href="objetos.html#cb192-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(res)</span>
<span id="cb192-7"><a href="objetos.html#cb192-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb192-8"><a href="objetos.html#cb192-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-9"><a href="objetos.html#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto</span></span>
<span id="cb192-10"><a href="objetos.html#cb192-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">15</span>)</span>
<span id="cb192-11"><a href="objetos.html#cb192-11" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>)</span>
<span id="cb192-12"><a href="objetos.html#cb192-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-13"><a href="objetos.html#cb192-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos nomeados na funcao</span></span>
<span id="cb192-14"><a href="objetos.html#cb192-14" aria-hidden="true" tabindex="-1"></a><span class="fu">estdesc</span>(<span class="at">x =</span> x, <span class="at">opcao =</span> <span class="st">&quot;media&quot;</span>)</span></code></pre></div>
<p>[1] 0.037</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="objetos.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">estdesc</span>(<span class="at">opcao =</span> <span class="st">&quot;media&quot;</span>, <span class="at">x =</span> x)</span></code></pre></div>
<p>[1] 0.037</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="objetos.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos não nomeados ordenados</span></span>
<span id="cb194-2"><a href="objetos.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="fu">estdesc</span>(x, <span class="st">&quot;media&quot;</span>)</span></code></pre></div>
<p>[1] 0.037</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="objetos.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos não ordenados (Gera erro)</span></span>
<span id="cb195-2"><a href="objetos.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">estdesc</span>(<span class="st">&quot;media&quot;</span>, x)</span></code></pre></div>
<p>Error in switch(opcao, media = round(mean(x), 4), mediana = round(mean(x), : EXPR deve ser um vetor de comprimento 1</p>
</div>
<div id="objeto-reticências" class="section level4" number="4.3.7.6">
<h4><span class="header-section-number">4.3.7.6</span> Objeto reticências (…)</h4>
<p>O objeto reticências é do tipo pairlist, um tipo de objeto usado bastante internamente no R, e dificilmente utilizado no código interpretado. De modo que não temos acesso direto ao objeto …. Contudo, esse objeto tem um papel fundamental nas funções, quando damos a liberdade de inserir mais argumentos além dos definidos na função. Vejamos,</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="objetos.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao que plota um grafico</span></span>
<span id="cb196-2"><a href="objetos.html#cb196-2" aria-hidden="true" tabindex="-1"></a>grafico <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, ...) {</span>
<span id="cb196-3"><a href="objetos.html#cb196-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, ...)</span>
<span id="cb196-4"><a href="objetos.html#cb196-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb196-5"><a href="objetos.html#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Vetores</span></span>
<span id="cb196-6"><a href="objetos.html#cb196-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>; y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb196-7"><a href="objetos.html#cb196-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada 1, com os argumentos definidos</span></span>
<span id="cb196-8"><a href="objetos.html#cb196-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grafico</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)</span></code></pre></div>
<p><span class="math display">\[IMAGEM\]</span>
<code>r # Chamada 2, inserindo argumentos nao definidos grafico(x = x, y = y, main = "Título")</code>
<span class="math display">\[IMAGEM\]</span></p>
<p>Isso ocorre, porque temos a função plot() no corpo da função grafico() que apresenta muitos argumentos. Dessa forma, criamos a função grafico(), com os argumentos que representam as coordenadas, mas a reticências (…) garantem que os demais argumentos de plots, omitidos, possam ser utilizados.</p>
</div>
<div id="escopo-léxico" class="section level4" number="4.3.7.7">
<h4><span class="header-section-number">4.3.7.7</span> Escopo léxico</h4>
<p>Vamos retornar aos componentes da função fun1,</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="objetos.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumentos</span></span>
<span id="cb197-2"><a href="objetos.html#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(fun1)</span></code></pre></div>
<p>$x</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="objetos.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Corpo</span></span>
<span id="cb198-2"><a href="objetos.html#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">body</span>(fun1)</span></code></pre></div>
<p>{
res &lt;- x + 1
return(res)
}</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="objetos.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ambiente</span></span>
<span id="cb199-2"><a href="objetos.html#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="fu">environment</span>(fun1)</span></code></pre></div>
<p>&lt;environment: R_GlobalEnv&gt;</p>
<p>Observe que o último componente é o ambiente onde o nome fun1 foi associado a função. Este ambiente é chamado de <strong>ambiente envolvente</strong>. Nesse caso é o ambiente global. Contudo, quando a função é executada, momentaneamente é criado o <strong>ambiente de execução</strong>. É nesse ambiente que os nomes que estão no corpo da função são associados aos objetos. Vejamos um primeiro exemplo,</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="objetos.html#cb200-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb200-2"><a href="objetos.html#cb200-2" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb200-3"><a href="objetos.html#cb200-3" aria-hidden="true" tabindex="-1"></a> x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb200-4"><a href="objetos.html#cb200-4" aria-hidden="true" tabindex="-1"></a> x</span>
<span id="cb200-5"><a href="objetos.html#cb200-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb200-6"><a href="objetos.html#cb200-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamando a funcao fun</span></span>
<span id="cb200-7"><a href="objetos.html#cb200-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 2</p>
<p>Por causa do ambiente de execução que o objeto x dentro da função é retornado, ao invés do que foi definido fora da função. Isso porque o ambiente de execução mascara os nomes definidos dentro da função dos nomes definidos fora da função. Esse é uma primeira característica do <strong>escopo léxico</strong> nas funções em R.</p>
<p>Anteriormente, falamos sobre a <strong>atribuição</strong>, que representa a forma como os nomes se associam aos objetos. Agora, o <strong>escopo</strong> vem a ser a forma como os nomes encontram seus valores associados. O termo <strong>léxico</strong> significa que as funções podem encontrar nomes e seus respectivos valores associados, definidos no ambiente onde a função foi definida, isto é, no ambiente de função. Claro que isso segue regras, e a primeira foi a <strong>máscara de nome</strong> falada anteriormente.</p>
<p>Porém quando não existe um nome vinculado a um objeto, e este foi definido no ambiente de função, o valor é repassado dentro para função. Observe,</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="objetos.html#cb201-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb201-2"><a href="objetos.html#cb201-2" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb201-3"><a href="objetos.html#cb201-3" aria-hidden="true" tabindex="-1"></a> x</span>
<span id="cb201-4"><a href="objetos.html#cb201-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb201-5"><a href="objetos.html#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamando a funcao fun</span></span>
<span id="cb201-6"><a href="objetos.html#cb201-6" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 10</p>
<p>O resultado de fun() foi 10, porque como a função procurou no ambiente de execuções e não encontrou esse nome, a função foi até o ambiente superior, no caso, o ambiente de execuções. Como falado anteriormente, todo ambiente tem um pai (ou ambiente superior). Essa hierarquização é observada no caminho de busca, que pode ser acessado por search(), ou seja,</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="objetos.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">search</span>()</span></code></pre></div>
<p>[1] “.GlobalEnv” “package:magrittr” “package:leaflet”<br />
[4] “package:stats” “package:graphics” “package:grDevices”
[7] “package:utils” “package:datasets” “package:methods”<br />
[10] “Autoloads” “package:base”</p>
<p>O ambiente corrente do R sempre será o ambiente ambiente global (.GlobalEnv). O ambiente de execução não aparece, porque ele é momentâneo. Então após buscar no ambiente de execução e não encontrar, é pelo caminho de busca que a função irá procurar pelos objetos inseridos no corpo da função. Ele só existe quando a função é chamada e não quando ela é definida, isto é,</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="objetos.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb203-2"><a href="objetos.html#cb203-2" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>() x <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb203-3"><a href="objetos.html#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto 1</span></span>
<span id="cb203-4"><a href="objetos.html#cb203-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb203-5"><a href="objetos.html#cb203-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada1</span></span>
<span id="cb203-6"><a href="objetos.html#cb203-6" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 20</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="objetos.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto 2</span></span>
<span id="cb204-2"><a href="objetos.html#cb204-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb204-3"><a href="objetos.html#cb204-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada 2</span></span>
<span id="cb204-4"><a href="objetos.html#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 30</p>
<p>Observe que após ser criada a função fun(), o nome x se associou ao objeto 10. Posteriormente, fun() foi chamada e o resultado foi 20. Contudo, o nome x se associou a outro objeto 20, e após a segunda chamada da função fun(), o resultado foi 30, porque a função procura os valores quando ela é executada, e não quando é criada, é a característica de <strong>pesquisa dinâmica</strong> do escopo léxico.</p>
<p>Uma outra situação é a seguinte,</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="objetos.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto</span></span>
<span id="cb205-2"><a href="objetos.html#cb205-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb205-3"><a href="objetos.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb205-4"><a href="objetos.html#cb205-4" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb205-5"><a href="objetos.html#cb205-5" aria-hidden="true" tabindex="-1"></a> n <span class="ot">&lt;-</span> n <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb205-6"><a href="objetos.html#cb205-6" aria-hidden="true" tabindex="-1"></a> n</span>
<span id="cb205-7"><a href="objetos.html#cb205-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb205-8"><a href="objetos.html#cb205-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada 1</span></span>
<span id="cb205-9"><a href="objetos.html#cb205-9" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 2</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="objetos.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto</span></span>
<span id="cb206-2"><a href="objetos.html#cb206-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb206-3"><a href="objetos.html#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcao</span></span>
<span id="cb206-4"><a href="objetos.html#cb206-4" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb206-5"><a href="objetos.html#cb206-5" aria-hidden="true" tabindex="-1"></a> n <span class="ot">&lt;-</span> n <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb206-6"><a href="objetos.html#cb206-6" aria-hidden="true" tabindex="-1"></a> n</span>
<span id="cb206-7"><a href="objetos.html#cb206-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb206-8"><a href="objetos.html#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada 1</span></span>
<span id="cb206-9"><a href="objetos.html#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 2</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="objetos.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chamada 2</span></span>
<span id="cb207-2"><a href="objetos.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fun</span>()</span></code></pre></div>
<p>[1] 2</p>
<p>Nessas linhas de comando, poderíamos pensar que após ter executado a primeira chamada, que retornou valor 2, a segunda chamada retornaria o valor 3, como ocorre com as variáveis estáticas na linguagem C. Aqui nesse caso, resultado independente do número de chamadas será sempre o mesmo, porque uma outra característica do escopo léxico no R é o <strong>novo começo</strong>, porque a cada vez que a função é executada um novo ambiente de execução é criado, e portanto, cada execução dos comandos de atribuição e expressão são executados de forma independentes nas chamadas de funções.</p>
<p>Algo que não havíamos falado anteriormente, é que a função function() permite que não seja definido argumentos, devido a flexibilidade do escopo léxico das funções em R. É essa característica que faz com que os comandos no corpo das funções encontrem os objetos que não estão definidos na própria função. Mais detalhes, será visto no módulo Programação em R (Nível Intermediário).</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introdução-ao-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="boas-práticas-de-como-escrever-um-código.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": true,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bendeivide/book-eambr/edit/main/04-nbasico.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsubsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
